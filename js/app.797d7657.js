(function(){"use strict";var e={1375:function(e,t,s){var a=s(5130),o=s(6768),r=s(4232);const l={key:0,dir:"rtl",class:"navbar"},i={class:"navbar-brand"},n={key:0,class:"navbar-menu"},c=(0,o.Lk)("div",{id:"back"},null,-1);function u(e,t,s,a,u,d){const p=(0,o.g2)("router-link"),h=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)(o.FK,null,[u.navbarcheck?((0,o.uX)(),(0,o.CE)("nav",l,[(0,o.Lk)("div",i,[(0,o.bF)(p,{class:"navbar-item",exact:"",to:"/cafe-ps8/home"},{default:(0,o.k6)((()=>[(0,o.eW)("Black Light")])),_:1}),(0,o.Lk)("a",{class:(0,r.C4)({"arrow-up":u.isArrowUp,"arrow-down":!u.isArrowUp,"navbar-button":!0}),onClick:t[0]||(t[0]=(...e)=>d.toggleNavbar&&d.toggleNavbar(...e))},null,2)]),u.isNavbarActive?((0,o.uX)(),(0,o.CE)("div",n,[(0,o.bF)(p,{class:"navbar-item",to:"/cafe-ps8/affairs"},{default:(0,o.k6)((()=>[(0,o.eW)("العاملين")])),_:1}),(0,o.bF)(p,{class:"navbar-item",to:"/cafe-ps8/PS"},{default:(0,o.k6)((()=>[(0,o.eW)("بلايستيشن")])),_:1}),(0,o.bF)(p,{class:"navbar-item",to:"/cafe-ps8/purchases"},{default:(0,o.k6)((()=>[(0,o.eW)("المشتريات")])),_:1}),(0,o.bF)(p,{class:"navbar-item",to:"/cafe-ps8/sales"},{default:(0,o.k6)((()=>[(0,o.eW)("المبيعات")])),_:1}),(0,o.bF)(p,{class:"navbar-item",to:"/cafe-ps8/harmony"},{default:(0,o.k6)((()=>[(0,o.eW)("التوالف")])),_:1}),(0,o.bF)(p,{class:"navbar-item",to:"/cafe-ps8/products"},{default:(0,o.k6)((()=>[(0,o.eW)("المنتجات")])),_:1}),(0,o.bF)(p,{class:"navbar-item",to:"/cafe-ps8/rooms"},{default:(0,o.k6)((()=>[(0,o.eW)("الصالات")])),_:1}),(0,o.bF)(p,{class:"navbar-item",to:"/cafe-ps8/expenses"},{default:(0,o.k6)((()=>[(0,o.eW)("المصاريف")])),_:1}),(0,o.bF)(p,{class:"navbar-item",to:"/cafe-ps8/store"},{default:(0,o.k6)((()=>[(0,o.eW)("المخزن")])),_:1})])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),c,(0,o.bF)(h)],64)}var d=s(8704),p={data(){return{navbarcheck:"",screenWidth:window.innerWidth,isNavbarActive:!0,isArrowUp:!0}},mounted(){this.$store.dispatch("globalFunction")},created(){window.addEventListener("resize",this.handleResize),this.$router.beforeEach(((e,t,s)=>{"/cafe-ps8/"===e.path?this.navbarcheck=!1:this.navbarcheck=!0,s()}))},unmounted(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize(){const e=window.innerWidth;e!==this.screenWidth&&(this.screenWidth=e,this.screenWidth>600?this.isNavbarActive=!0:(this.isNavbarActive=!1,this.isArrowUp=!1))},toggleNavbar(){this.isNavbarActive=!this.isNavbarActive,this.isArrowUp=!this.isArrowUp},getCookie(e){return d.A.get(e)}}},h=s(1241);const k=(0,h.A)(p,[["render",u]]);var m=k,S=s(1387);const P={id:"LoginBody"},L=(0,o.Lk)("h1",null,"Black Light",-1),v=(0,o.Lk)("button",{type:"submit"},"تسجيل الدخول",-1),y={key:0,id:"login_error"};function f(e,t,s,l,i,n){return(0,o.uX)(),(0,o.CE)("div",P,[(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>n.login&&n.login(...e)),["prevent"]))},[L,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.username=e),type:"text",placeholder:"ادخل اسم المستخدم",required:""},null,512),[[a.Jo,i.username]]),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),placeholder:"ادخل كلمة المرور",required:""},null,512),[[a.Jo,i.password]]),v,i.errorMessage?((0,o.uX)(),(0,o.CE)("p",y,(0,r.v_)(i.errorMessage),1)):(0,o.Q3)("",!0)],32)])}s(4114);var C=s(4373),b={data(){return{username:"",password:"",errorMessage:""}},created(){this.getCookie("user_id")&&this.$router.push("/cafe-ps8/home")},mounted(){this.$store.dispatch("globalFunction")},methods:{async login(){try{const e=await C.A.post("http://localhost/cafe-ps8/api/login.php",{username:this.username,password:this.password});if(200===e.status){const t=e.data.message;1==t?(this.$router.push("/cafe-ps8/home"),this.setSecureCookie("user_id",e.data.user.id,7),this.setSecureCookie("user_name",e.data.user.username,7),this.setSecureCookie("user_role",e.data.user.role,7),this.setSecureCookie("user_affairs",e.data.user.affairs,7),this.setSecureCookie("user_ps",e.data.user.ps,7),this.setSecureCookie("user_purchases",e.data.user.purchases,7),this.setSecureCookie("user_sales",e.data.user.sales,7),this.setSecureCookie("user_harmony",e.data.user.harmony,7),this.setSecureCookie("user_products",e.data.user.products,7),this.setSecureCookie("user_rooms",e.data.user.rooms,7),this.setSecureCookie("user_expenses",e.data.user.expenses,7),this.setSecureCookie("user_store",e.data.user.store,7)):(this.errorMessage="اسم المستخدم أو كلمة المرور غير صحيح",console.log(e.data))}else this.errorMessage=e.data.message}catch(e){console.error("Login failed:",e),this.errorMessage="اسم المستخدم أو كلمة المرور غير صحيح"}},setSecureCookie(e,t,s){d.A.set(e,t,{expires:s,secure:!0,sameSite:"Strict"})},getCookie(e){return d.A.get(e)}}};const g=(0,h.A)(b,[["render",f]]);var _=g;const E={id:"HomeBody"},w=(0,o.Lk)("h1",null,"Black Light",-1),M={key:0},T={key:1};function X(e,t,s,a,l,i){return(0,o.uX)(),(0,o.CE)("div",E,[w,(0,o.Lk)("h2",null,(0,r.v_)(l.username),1),1==l.role?((0,o.uX)(),(0,o.CE)("h3",M,"Admin")):((0,o.uX)(),(0,o.CE)("h3",T,"User")),(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.logout&&i.logout(...e))},"تسجيل الخروج")])}var A={data(){return{id:"",username:"",role:""}},created(){this.id=this.getCookie("user_id"),this.username=this.getCookie("user_name"),this.role=this.getCookie("user_role"),this.getCookie("user_id")||this.$router.push("/cafe-ps8/")},mounted(){this.$store.dispatch("globalFunction")},methods:{logout(){this.removeCookie("user_id"),this.removeCookie("user_name"),this.removeCookie("user_role"),this.$router.push("/cafe-ps8/")},removeCookie(e){d.A.remove(e,{secure:!0,sameSite:"Strict"})},getCookie(e){return d.A.get(e)}}};const x=(0,h.A)(A,[["render",X]]);var F=x;const U={key:0,id:"PSBody"},R={dir:"rtl",id:"PSTable"},D=(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"م"),(0,o.Lk)("th",null,"بلاى ستيشن"),(0,o.Lk)("th",null,"عادى"),(0,o.Lk)("th",null,"سعر"),(0,o.Lk)("th",null,"مالتى"),(0,o.Lk)("th",null,"سعر"),(0,o.Lk)("th",null,"بلس"),(0,o.Lk)("th",null,"سعر"),(0,o.Lk)("th",null,"نتفلكس"),(0,o.Lk)("th",null,"سعر"),(0,o.Lk)("th",null,"النوع"),(0,o.Lk)("th",null,"تعديل")],-1),$={key:0},I={key:1},N={key:2},Q={key:3},K={key:4},V={key:5},O={key:6},q={key:7},W={key:8},G={key:9},H=["onClick"],J=(0,o.Lk)("option",{disabled:"",value:""},"صلاحية العادى",-1),B=(0,o.Lk)("option",{value:"1"},"مسموح",-1),j=(0,o.Lk)("option",{value:"0"},"ممنوع",-1),z=[J,B,j],Y=(0,o.Lk)("option",{disabled:"",value:""},"صلاحية المالتى",-1),Z=(0,o.Lk)("option",{value:"1"},"مسموح",-1),ee=(0,o.Lk)("option",{value:"0"},"ممنوع",-1),te=[Y,Z,ee],se=(0,o.Lk)("option",{disabled:"",value:""},"صلاحية البلس",-1),ae=(0,o.Lk)("option",{value:"1"},"مسموح",-1),oe=(0,o.Lk)("option",{value:"0"},"ممنوع",-1),re=[se,ae,oe],le=(0,o.Lk)("option",{disabled:"",value:""},"صلاحية النتفلكس",-1),ie=(0,o.Lk)("option",{value:"1"},"مسموح",-1),ne=(0,o.Lk)("option",{value:"0"},"ممنوع",-1),ce=[le,ie,ne],ue=(0,o.Lk)("option",{disabled:"",value:""},"نوع الجهاز",-1),de=(0,o.Lk)("option",{value:"1"},"بلايستيشن 5",-1),pe=(0,o.Lk)("option",{value:"0"},"بلايستيشن 4",-1),he=[ue,de,pe],ke=(0,o.Lk)("button",{type:"submit"},"تعديل",-1),me={key:1,class:"no"},Se=(0,o.Lk)("div",null,"عفواً ,غير مسموح لك بالتعديل فى اعدادات البلايستيشن",-1),Pe=[Se];function Le(e,t,s,l,i,n){return 1==i.SPS?((0,o.uX)(),(0,o.CE)("div",U,[(0,o.Lk)("div",null,[(0,o.Lk)("table",R,[D,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.PSs,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",null,(0,r.v_)(e.id),1),(0,o.Lk)("td",null,(0,r.v_)(e.name),1),1==e.normal?((0,o.uX)(),(0,o.CE)("td",$,"مسموح")):((0,o.uX)(),(0,o.CE)("td",I,"ممنوع")),(0,o.Lk)("td",null,(0,r.v_)(e.normal_price),1),1==e.multi?((0,o.uX)(),(0,o.CE)("td",N,"مسموح")):((0,o.uX)(),(0,o.CE)("td",Q,"ممنوع")),(0,o.Lk)("td",null,(0,r.v_)(e.multi_price),1),1==e.plus?((0,o.uX)(),(0,o.CE)("td",K,"مسموح")):((0,o.uX)(),(0,o.CE)("td",V,"ممنوع")),(0,o.Lk)("td",null,(0,r.v_)(e.plus_price),1),1==e.netflix?((0,o.uX)(),(0,o.CE)("td",O,"مسموح")):((0,o.uX)(),(0,o.CE)("td",q,"ممنوع")),(0,o.Lk)("td",null,(0,r.v_)(e.netflix_price),1),1==e.type?((0,o.uX)(),(0,o.CE)("td",W,"بلايستيشن 5")):((0,o.uX)(),(0,o.CE)("td",G,"بلايستيشن 4")),(0,o.Lk)("td",{onClick:t=>n.EditUser(e)},"تعديل",8,H)])))),128))])]),(0,o.Lk)("form",{onSubmit:t[10]||(t[10]=(0,a.D$)(((...e)=>n.EditUserApi&&n.EditUserApi(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.ps=e),type:"text",placeholder:"اسم البلايستيشن",required:"",disabled:""},null,512),[[a.Jo,i.ps]]),(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[1]||(t[1]=e=>i.normal=e)},z,512),[[a.u1,i.normal]]),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>i.normal_price=e),placeholder:"السعر",required:""},null,512),[[a.Jo,i.normal_price]]),(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[3]||(t[3]=e=>i.multi=e)},te,512),[[a.u1,i.multi]]),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>i.multi_price=e),placeholder:"السعر",required:""},null,512),[[a.Jo,i.multi_price]]),(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[5]||(t[5]=e=>i.plus=e)},re,512),[[a.u1,i.plus]]),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=e=>i.plus_price=e),placeholder:"السعر",required:""},null,512),[[a.Jo,i.plus_price]]),(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[7]||(t[7]=e=>i.netflix=e)},ce,512),[[a.u1,i.netflix]]),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=e=>i.netflix_price=e),placeholder:"السعر",required:""},null,512),[[a.Jo,i.netflix_price]]),(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[9]||(t[9]=e=>i.type=e)},he,512),[[a.u1,i.type]]),ke],32)])):((0,o.uX)(),(0,o.CE)("div",me,Pe))}var ve={data(){return{id:"",SPS:"",PSs:[],ps:"",normal:"",normal_price:"",multi:"",multi_price:"",plus:"",plus_price:"",netflix:"",netflix_price:"",type:""}},created(){this.id=this.getCookie("user_id"),this.SPS=this.getCookie("user_ps"),this.getCookie("user_id")||this.$router.push("/cafe-ps8/"),this.getps()},mounted(){this.$store.dispatch("globalFunction")},methods:{getCookie(e){return d.A.get(e)},async getps(){try{const e=await C.A.get("http://localhost/cafe-ps8/api/ps.php");this.PSs=e.data.PSs}catch(e){console.error("Login failed:",e)}},EditUser(e){this.ps=e.name},async EditUserApi(){try{const e=await C.A.put("http://localhost/cafe-ps8/api/ps.php",{name:this.ps,normal:this.normal,normal_price:Math.abs(this.normal_price),multi:this.multi,multi_price:Math.abs(this.multi_price),plus:this.plus,plus_price:Math.abs(this.plus_price),netflix:this.netflix,netflix_price:Math.abs(this.netflix_price),type:this.type});alert(e.data.message),this.getps(),this.addedit="إضافة"}catch(e){console.error("Error deleting user:",e.message)}this.ps="",this.normal="",this.normal_price="",this.multi="",this.multi_price="",this.plus="",this.plus_price="",this.netflix="",this.netflix_price="",this.type=""}}};const ye=(0,h.A)(ve,[["render",Le]]);var fe=ye;const Ce={key:0,id:"AffairsBody"},be={dir:"rtl",id:"AffairsTable"},ge=(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"م"),(0,o.Lk)("th",null,"الاسم"),(0,o.Lk)("th",null,"العاملين"),(0,o.Lk)("th",null,"بلايستيشن"),(0,o.Lk)("th",null,"المشتريات"),(0,o.Lk)("th",null,"المبيعات"),(0,o.Lk)("th",null,"التوالف"),(0,o.Lk)("th",null,"المنتجات"),(0,o.Lk)("th",null,"الصالات"),(0,o.Lk)("th",null,"المصاريف"),(0,o.Lk)("th",null,"المخزن"),(0,o.Lk)("th",null,"تعديل"),(0,o.Lk)("th",null,"حذف")],-1),_e={key:0},Ee={key:1},we={key:2},Me={key:3},Te={key:4},Xe={key:5},Ae={key:6},xe={key:7},Fe={key:8},Ue={key:9},Re={key:10},De={key:11},$e={key:12},Ie={key:13},Ne={key:14},Qe={key:15},Ke={key:16},Ve={key:17},Oe=["onClick"],qe=["onClick"],We=(0,o.Lk)("option",{disabled:"",value:""},"صلاحية العاملين",-1),Ge=(0,o.Lk)("option",{value:"1"},"مسموح",-1),He=(0,o.Lk)("option",{value:"0"},"ممنوع",-1),Je=[We,Ge,He],Be=(0,o.Lk)("option",{disabled:"",value:""},"صلاحية البلايستيشن",-1),je=(0,o.Lk)("option",{value:"1"},"مسموح",-1),ze=(0,o.Lk)("option",{value:"0"},"ممنوع",-1),Ye=[Be,je,ze],Ze=(0,o.Lk)("option",{disabled:"",value:""},"صلاحية المشتريات",-1),et=(0,o.Lk)("option",{value:"1"},"مسموح",-1),tt=(0,o.Lk)("option",{value:"0"},"ممنوع",-1),st=[Ze,et,tt],at=(0,o.Lk)("option",{disabled:"",value:""},"صلاحية المبيعات",-1),ot=(0,o.Lk)("option",{value:"1"},"مسموح",-1),rt=(0,o.Lk)("option",{value:"0"},"ممنوع",-1),lt=[at,ot,rt],it=(0,o.Lk)("option",{disabled:"",value:""},"صلاحية التوالف",-1),nt=(0,o.Lk)("option",{value:"1"},"مسموح",-1),ct=(0,o.Lk)("option",{value:"0"},"ممنوع",-1),ut=[it,nt,ct],dt=(0,o.Lk)("option",{disabled:"",value:""},"صلاحية المنتجات",-1),pt=(0,o.Lk)("option",{value:"1"},"مسموح",-1),ht=(0,o.Lk)("option",{value:"0"},"ممنوع",-1),kt=[dt,pt,ht],mt=(0,o.Lk)("option",{disabled:"",value:""},"صلاحية الصالات",-1),St=(0,o.Lk)("option",{value:"1"},"مسموح",-1),Pt=(0,o.Lk)("option",{value:"0"},"ممنوع",-1),Lt=[mt,St,Pt],vt=(0,o.Lk)("option",{disabled:"",value:""},"صلاحية المصروفات",-1),yt=(0,o.Lk)("option",{value:"1"},"مسموح",-1),ft=(0,o.Lk)("option",{value:"0"},"ممنوع",-1),Ct=[vt,yt,ft],bt=(0,o.Lk)("option",{disabled:"",value:""},"صلاحية المخزن",-1),gt=(0,o.Lk)("option",{value:"1"},"مسموح",-1),_t=(0,o.Lk)("option",{value:"0"},"ممنوع",-1),Et=[bt,gt,_t],wt={type:"submit"},Mt={key:1,class:"no"},Tt=(0,o.Lk)("div",null,"عفواً ,غير مسموح لك بالتعديل فى شئون العاملين",-1),Xt=[Tt];function At(e,t,s,l,i,n){return 1==i.Saffairs?((0,o.uX)(),(0,o.CE)("div",Ce,[(0,o.Lk)("div",null,[(0,o.Lk)("table",be,[ge,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.users,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",null,(0,r.v_)(e.id),1),(0,o.Lk)("td",null,(0,r.v_)(e.username),1),1==e.affairs?((0,o.uX)(),(0,o.CE)("td",_e,"مسموح")):((0,o.uX)(),(0,o.CE)("td",Ee,"ممنوع")),1==e.ps?((0,o.uX)(),(0,o.CE)("td",we,"مسموح")):((0,o.uX)(),(0,o.CE)("td",Me,"ممنوع")),1==e.purchases?((0,o.uX)(),(0,o.CE)("td",Te,"مسموح")):((0,o.uX)(),(0,o.CE)("td",Xe,"ممنوع")),1==e.sales?((0,o.uX)(),(0,o.CE)("td",Ae,"مسموح")):((0,o.uX)(),(0,o.CE)("td",xe,"ممنوع")),1==e.harmony?((0,o.uX)(),(0,o.CE)("td",Fe,"مسموح")):((0,o.uX)(),(0,o.CE)("td",Ue,"ممنوع")),1==e.products?((0,o.uX)(),(0,o.CE)("td",Re,"مسموح")):((0,o.uX)(),(0,o.CE)("td",De,"ممنوع")),1==e.rooms?((0,o.uX)(),(0,o.CE)("td",$e,"مسموح")):((0,o.uX)(),(0,o.CE)("td",Ie,"ممنوع")),1==e.expenses?((0,o.uX)(),(0,o.CE)("td",Ne,"مسموح")):((0,o.uX)(),(0,o.CE)("td",Qe,"ممنوع")),1==e.store?((0,o.uX)(),(0,o.CE)("td",Ke,"مسموح")):((0,o.uX)(),(0,o.CE)("td",Ve,"ممنوع")),(0,o.Lk)("td",{onClick:t=>n.EditUser(e)},"تعديل",8,Oe),(0,o.Lk)("td",{onClick:t=>n.DeleteUser(e)},"حذف",8,qe)])))),128))])]),(0,o.Lk)("form",{onSubmit:t[11]||(t[11]=(0,a.D$)(((...e)=>n.AddEditUser&&n.AddEditUser(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.username=e),type:"text",placeholder:"اسم المستخدم",required:""},null,512),[[a.Jo,i.username]]),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e),placeholder:"كلمة المرور",required:""},null,512),[[a.Jo,i.password]]),(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[2]||(t[2]=e=>i.affairs=e)},Je,512),[[a.u1,i.affairs]]),(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[3]||(t[3]=e=>i.ps=e)},Ye,512),[[a.u1,i.ps]]),(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[4]||(t[4]=e=>i.purchases=e)},st,512),[[a.u1,i.purchases]]),(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[5]||(t[5]=e=>i.sales=e)},lt,512),[[a.u1,i.sales]]),(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[6]||(t[6]=e=>i.harmony=e)},ut,512),[[a.u1,i.harmony]]),(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[7]||(t[7]=e=>i.products=e)},kt,512),[[a.u1,i.products]]),(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[8]||(t[8]=e=>i.rooms=e)},Lt,512),[[a.u1,i.rooms]]),(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[9]||(t[9]=e=>i.expenses=e)},Ct,512),[[a.u1,i.expenses]]),(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[10]||(t[10]=e=>i.store=e)},Et,512),[[a.u1,i.store]]),(0,o.Lk)("button",wt,(0,r.v_)(i.addedit),1)],32)])):((0,o.uX)(),(0,o.CE)("div",Mt,Xt))}var xt={data(){return{id:"",username:"",affairs:"",ps:"",purchases:"",sales:"",harmony:"",products:"",rooms:"",expenses:"",store:"",Saffairs:"",idform:"",password:"",users:[],addedit:"إضافة"}},created(){this.id=this.getCookie("user_id"),this.Saffairs=this.getCookie("user_affairs"),this.getCookie("user_id")||this.$router.push("/cafe-ps8/"),this.getusers()},mounted(){this.$store.dispatch("globalFunction")},methods:{getCookie(e){return d.A.get(e)},async getusers(){try{const e=await C.A.get("http://localhost/cafe-ps8/api/affairs.php");this.users=e.data.users}catch(e){console.error("Login failed:",e)}},async DeleteUser(e){try{const t=await C.A.delete("http://localhost/cafe-ps8/api/affairs.php",{data:{id:e.id}});alert(t.data.message),this.getusers()}catch(t){console.error("Error deleting user:",t.message)}},EditUser(e){this.idform=e.id,this.username=e.username,this.addedit="تعديل"},async AddEditUser(){if("إضافة"==this.addedit)try{const e=await C.A.post("http://localhost/cafe-ps8/api/affairs.php",{username:this.username,password:this.password,affairs:this.affairs,ps:this.ps,purchases:this.purchases,sales:this.sales,harmony:this.harmony,products:this.products,rooms:this.rooms,expenses:this.expenses,store:this.store});alert(e.data.message),this.getusers()}catch(e){console.error("Error deleting user:",e.message)}else try{const e=await C.A.put("http://localhost/cafe-ps8/api/affairs.php",{id:this.idform,username:this.username,password:this.password,affairs:this.affairs,ps:this.ps,purchases:this.purchases,sales:this.sales,harmony:this.harmony,products:this.products,rooms:this.rooms,expenses:this.expenses,store:this.store});alert(e.data.message),this.getusers(),this.addedit="إضافة"}catch(e){console.error("Error deleting user:",e.message)}this.username="",this.password="",this.affairs="",this.ps="",this.purchases="",this.sales="",this.harmony="",this.products="",this.rooms="",this.expenses="",this.store=""}}};const Ft=(0,h.A)(xt,[["render",At]]);var Ut=Ft;const Rt={key:0,id:"PurchasesBody"},Dt=(0,o.Lk)("option",{disabled:"",value:""},"مطعم \\ كافيه",-1),$t=(0,o.Lk)("option",{value:"1"},"مطعم",-1),It=(0,o.Lk)("option",{value:"0"},"كافيه",-1),Nt=[Dt,$t,It],Qt=(0,o.Lk)("option",{disabled:"",value:""},"اختر القسم",-1),Kt=["value"],Vt={key:0},Ot=(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"م"),(0,o.Lk)("th",null,"اسم"),(0,o.Lk)("th",null,"عدد"),(0,o.Lk)("th",null,"زيادة"),(0,o.Lk)("th",null,"نقص")],-1),qt=["onClick"],Wt=["onClick"],Gt={key:1,class:"no"},Ht=(0,o.Lk)("div",null,"عفواً ,غير مسموح لك بالتعديل فى المشتريات",-1),Jt=[Ht];function Bt(e,t,s,l,i,n){return 1==i.ShowPurchases?((0,o.uX)(),(0,o.CE)("div",Rt,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.SelectKindModel=e)},Nt,512),[[a.u1,i.SelectKindModel]]),1==i.SectorShow?(0,o.bo)(((0,o.uX)(),(0,o.CE)("select",{key:0,"onUpdate:modelValue":t[1]||(t[1]=e=>i.SelectSector=e)},[Qt,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.Sectors,((e,t)=>((0,o.uX)(),(0,o.CE)("option",{key:t,value:e.id},(0,r.v_)(e.name),9,Kt)))),128))],512)),[[a.u1,i.SelectSector]]):(0,o.Q3)("",!0),(0,o.Lk)("div",null,[1==i.MaterialShow?((0,o.uX)(),(0,o.CE)("table",Vt,[Ot,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.Materials,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",null,(0,r.v_)(t+1),1),(0,o.Lk)("td",null,(0,r.v_)(e.name),1),(0,o.Lk)("td",null,(0,r.v_)(e.num_purchases),1),(0,o.Lk)("td",{class:"point",onClick:t=>n.MaterialIncrement(e)},"+",8,qt),(0,o.Lk)("td",{class:"point",onClick:t=>n.MaterialDecreasement(e)},"-",8,Wt)])))),128))])):(0,o.Q3)("",!0)])])):((0,o.uX)(),(0,o.CE)("div",Gt,Jt))}var jt={data(){return{id:"",ShowPurchases:"",SelectKindModel:"",Sectors:[],SelectSector:"",SectorShow:"",Materials:[],MaterialShow:""}},watch:{SelectKindModel:function(){this.SelectSector="",this.getSectors()},SelectSector:function(){this.getMaterials()}},created(){this.id=this.getCookie("user_id"),this.ShowPurchases=this.getCookie("user_purchases"),this.getCookie("user_id")||this.$router.push("/cafe-ps8/")},mounted(){this.$store.dispatch("globalFunction")},methods:{getCookie(e){return d.A.get(e)},async getSectors(){try{const e=await C.A.post("http://localhost/cafe-ps8/api/purchases.php",{GetType:"Sectors",GetSectors:this.SelectKindModel});this.Sectors=e.data.Sectors}catch(e){console.error("error:",e)}""==this.SelectKindModel?this.SectorShow=0:this.SectorShow=1},async getMaterials(){try{const e=await C.A.post("http://localhost/cafe-ps8/api/purchases.php",{GetType:"Materials",GetSector:this.SelectSector});this.Materials=e.data.Materials}catch(e){console.error("error:",e)}""==this.SelectSector?this.MaterialShow=0:this.MaterialShow=1},async MaterialIncrement(e){try{const t=await C.A.put("http://localhost/cafe-ps8/api/purchases.php",{id_user:this.id,Type:1,id:e.id,num:e.num_purchases});console.log(t.data.message)}catch(t){console.error("error:",t)}this.getMaterials()},async MaterialDecreasement(e){try{const t=await C.A.put("http://localhost/cafe-ps8/api/purchases.php",{id_user:this.id,Type:0,id:e.id,num:e.num_purchases});console.log(t.data.message)}catch(t){console.error("error:",t)}this.getMaterials()}}};const zt=(0,h.A)(jt,[["render",Bt]]);var Yt=zt,Zt=s.p+"img/logo.3be6b4cb.png";const es=e=>((0,o.Qi)("data-v-17a17a7f"),e=e(),(0,o.jt)(),e),ts={key:0,id:"SalesBody",ref:"sales"},ss=es((()=>(0,o.Lk)("option",{disabled:"",value:""},"اختر المستخدم",-1))),as=["value"],os=es((()=>(0,o.Lk)("button",{type:"submit"},"عرض البيانات",-1))),rs={key:0,id:"UserData",dir:"rtl"},ls={ref:"All"},is=es((()=>(0,o.Lk)("img",{src:Zt},null,-1))),ns=[is],cs=es((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("td",{style:{border:"1px solid black"},colspan:"4"},"التوالف")],-1))),us={colspan:"4"},ds=es((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("td",{style:{border:"1px solid black"},colspan:"4"},"المصاريف")],-1))),ps={colspan:"2"},hs={colspan:"2"},ks=es((()=>(0,o.Lk)("td",{colspan:"2"},"اجمالى",-1))),ms={colspan:"2"},Ss=es((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("td",{style:{border:"1px solid black"},colspan:"4"},"المخزن")],-1))),Ps={colspan:"2"},Ls={colspan:"2"},vs=es((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("td",{style:{border:"1px solid black"},colspan:"4"},"المشتريات")],-1))),ys={colspan:"2"},fs={colspan:"2"},Cs=es((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("td",{style:{border:"1px solid black"},colspan:"4"},"المبيعات")],-1))),bs={style:{border:"1px solid black"},colspan:"4"},gs={colspan:"2"},_s={colspan:"2"},Es={style:{border:"1px solid black"},colspan:"4"},ws={colspan:"2"},Ms={colspan:"2"},Ts=es((()=>(0,o.Lk)("td",{colspan:"2"},"اجمالى",-1))),Xs={colspan:"2"},As=es((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("td",{colspan:"4"},"المحمودية - ش البوستة")],-1))),xs=es((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("td",{colspan:"2"},"01208020853"),(0,o.Lk)("td",{colspan:"2"},"01068517773")],-1))),Fs=es((()=>(0,o.Lk)("hr",{style:{margin:"7px 0px"}},null,-1))),Us={key:1,id:"OrdersData",dir:"rtl"},Rs=["onClick"],Ds=es((()=>(0,o.Lk)("td",{colspan:"4"},[(0,o.Lk)("img",{src:Zt})],-1))),$s=[Ds],Is={colspan:"4"},Ns={colspan:"4"},Qs=es((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("td",{colspan:"1"},"الاسم"),(0,o.Lk)("td",{colspan:"1"},"الكمية"),(0,o.Lk)("td",{colspan:"1"},"السعر"),(0,o.Lk)("td",{colspan:"1"},"الكل")],-1))),Ks={colspan:"1"},Vs={colspan:"1"},Os={colspan:"1"},qs={colspan:"1"},Ws=es((()=>(0,o.Lk)("td",{colspan:"2"},"اجمالى",-1))),Gs={colspan:"2"},Hs=es((()=>(0,o.Lk)("hr",{style:{margin:"7px 0px"}},null,-1))),Js={key:2,id:"RoomsData",dir:"rtl"},Bs={style:{border:"1px solid black"},colspan:"4"},js={colspan:"2"},zs={colspan:"2"},Ys=es((()=>(0,o.Lk)("td",{colspan:"2"},"اجمالى",-1))),Zs={colspan:"2"},ea=es((()=>(0,o.Lk)("td",{colspan:"2"},"الكل",-1))),ta={colspan:"2"},sa=es((()=>(0,o.Lk)("hr",{style:{margin:"7px 0px"}},null,-1))),aa={key:3,id:"UserData",dir:"rtl"},oa=es((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("td",{colspan:"2"},"المنتج"),(0,o.Lk)("td",{colspan:"2"},"الربح")],-1))),ra={style:{border:"1px solid black"},colspan:"4"},la={colspan:"2"},ia={colspan:"2"},na=es((()=>(0,o.Lk)("td",{colspan:"2"},"اجمالى",-1))),ca={colspan:"2"},ua=es((()=>(0,o.Lk)("option",{disabled:"",value:""},"اختر المادة الخام",-1))),da=["value"],pa=es((()=>(0,o.Lk)("button",{type:"submit"},"عرض البيانات",-1))),ha={key:4,id:"MaterialsData",dir:"rtl"},ka=es((()=>(0,o.Lk)("td",{colspan:"2"},"المخزن",-1))),ma={colspan:"2"},Sa=es((()=>(0,o.Lk)("td",{colspan:"2"},"المشتريات",-1))),Pa={colspan:"2"},La=es((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("td",{colspan:"1"},"الاسم"),(0,o.Lk)("td",{colspan:"1"},"العدد"),(0,o.Lk)("td",{colspan:"1"},"المبيعات"),(0,o.Lk)("td",{colspan:"1"},"الكل")],-1))),va={colspan:"1"},ya={colspan:"1"},fa={colspan:"1"},Ca={colspan:"1"},ba=es((()=>(0,o.Lk)("td",{colspan:"2"},"اجمالى",-1))),ga={colspan:"2"},_a={key:1,class:"no"},Ea=es((()=>(0,o.Lk)("div",null,"عفواً ,غير مسموح لك بالتعديل فى المبيعات",-1))),wa=[Ea];function Ma(e,t,s,l,i,n){return 1==e.SalesShow?((0,o.uX)(),(0,o.CE)("div",ts,[(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>n.SelectUser&&n.SelectUser(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[0]||(t[0]=e=>i.SelectedUser=e)},[ss,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.Users,((e,t)=>((0,o.uX)(),(0,o.CE)("option",{key:t,value:e.id},(0,r.v_)(e.username),9,as)))),128))],512),[[a.u1,i.SelectedUser]]),(0,o.bo)((0,o.Lk)("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=e=>i.SelectedDate=e)},null,512),[[a.Jo,i.SelectedDate]]),os],32),1==i.HarmoniesShow?((0,o.uX)(),(0,o.CE)("div",rs,[(0,o.Lk)("table",ls,[(0,o.Lk)("tr",null,[(0,o.Lk)("td",{onClick:t[3]||(t[3]=e=>n.PrintAll()),colspan:"4"},ns)]),cs,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.Harmonies,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",us,(0,r.v_)(e.details),1)])))),128)),ds,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.Expenses,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",ps,(0,r.v_)(e.material),1),(0,o.Lk)("td",hs,(0,r.v_)(e.price),1)])))),128)),(0,o.Lk)("tr",null,[ks,(0,o.Lk)("td",ms,(0,r.v_)(n.CalcSum4(i.Expenses)),1)]),Ss,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.Store,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",Ps,(0,r.v_)(e),1),(0,o.Lk)("td",Ls,(0,r.v_)(t),1)])))),128)),vs,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.Purchases,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",ys,(0,r.v_)(e),1),(0,o.Lk)("td",fs,(0,r.v_)(t),1)])))),128)),Cs,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.groupedProducts,((e,t)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:t},[(0,o.Lk)("tr",null,[(0,o.Lk)("td",bs,(0,r.v_)(t),1)]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.name},[(0,o.Lk)("td",gs,(0,r.v_)(e.name),1),(0,o.Lk)("td",_s,(0,r.v_)(e.sum.toFixed(2)),1)])))),128))],64)))),128)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.groupedPSs,((e,t)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:t},[(0,o.Lk)("tr",null,[(0,o.Lk)("td",Es,(0,r.v_)(t),1)]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.name},[(0,o.Lk)("td",ws,(0,r.v_)(e.name),1),(0,o.Lk)("td",Ms,(0,r.v_)(e.sum.toFixed(2)),1)])))),128))],64)))),128)),(0,o.Lk)("tr",null,[Ts,(0,o.Lk)("td",Xs,(0,r.v_)(n.CalcSum(i.Sales)),1)]),As,xs],512)])):(0,o.Q3)("",!0),Fs,1==i.HarmoniesShow?((0,o.uX)(),(0,o.CE)("div",Us,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.Orders,((e,t)=>((0,o.uX)(),(0,o.CE)("table",{key:t,ref_for:!0,ref:"printsection"+t},[(0,o.Lk)("tr",{onClick:e=>n.Print(t)},$s,8,Rs),(0,o.Lk)("tr",null,[(0,o.Lk)("td",Is,(0,r.v_)(e.order_time),1)]),(0,o.Lk)("tr",null,[(0,o.Lk)("td",Ns,(0,r.v_)(i.Places[e.place]),1)]),Qs,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.items,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",Ks,(0,r.v_)(e.name),1),(0,o.Lk)("td",Vs,(0,r.v_)(e.quantity),1),(0,o.Lk)("td",Os,(0,r.v_)(e.price),1),(0,o.Lk)("td",qs,(0,r.v_)((Number(e.price)*Number(e.quantity)).toFixed(2)),1)])))),128)),(0,o.Lk)("tr",null,[Ws,(0,o.Lk)("td",Gs,(0,r.v_)(n.CalcTotal(e.items)),1)])])))),128))])):(0,o.Q3)("",!0),Hs,1==i.HarmoniesShow?((0,o.uX)(),(0,o.CE)("div",Js,[(0,o.Lk)("table",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.SalesRooms,((e,t)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:t},[(0,o.Lk)("tr",null,[(0,o.Lk)("td",Bs,(0,r.v_)(i.Places[t]),1)]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.name},[(0,o.Lk)("td",js,(0,r.v_)(e.name),1),(0,o.Lk)("td",zs,(0,r.v_)(e.sum),1)])))),128)),(0,o.Lk)("tr",null,[Ys,(0,o.Lk)("td",Zs,(0,r.v_)(n.CalcSum3(e)),1)])],64)))),128)),(0,o.Lk)("tr",null,[ea,(0,o.Lk)("td",ta,(0,r.v_)(n.CalcSum3(i.Rooms)),1)])])])):(0,o.Q3)("",!0),sa,1==i.HarmoniesShow?((0,o.uX)(),(0,o.CE)("div",aa,[(0,o.Lk)("table",null,[oa,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.groupedSalesDiff,((e,t)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:t},[(0,o.Lk)("tr",null,[(0,o.Lk)("td",ra,(0,r.v_)(t),1)]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.name},[(0,o.Lk)("td",la,(0,r.v_)(e.name),1),(0,o.Lk)("td",ia,(0,r.v_)(e.sum.toFixed(2)),1)])))),128))],64)))),128)),(0,o.Lk)("tr",null,[na,(0,o.Lk)("td",ca,(0,r.v_)(n.CalcSum(i.SalesDiff)),1)])])])):(0,o.Q3)("",!0),(0,o.Lk)("form",{onSubmit:t[5]||(t[5]=(0,a.D$)(((...e)=>n.SelectMaterial&&n.SelectMaterial(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[4]||(t[4]=e=>i.SelectedMaterial=e)},[ua,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.Materials,((e,t)=>((0,o.uX)(),(0,o.CE)("option",{key:t,value:e.id},(0,r.v_)(e.name),9,da)))),128))],512),[[a.u1,i.SelectedMaterial]]),pa],32),1==i.MaterialsShow?((0,o.uX)(),(0,o.CE)("div",ha,[(0,o.Lk)("table",null,[(0,o.Lk)("tr",null,[ka,(0,o.Lk)("td",ma,(0,r.v_)(i.FilteredMaterials["num_store"]),1)]),(0,o.Lk)("tr",null,[Sa,(0,o.Lk)("td",Pa,(0,r.v_)(i.FilteredMaterials["num_purchases"]),1)]),La,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.SalesM,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",va,(0,r.v_)(e.name),1),(0,o.Lk)("td",ya,(0,r.v_)(e.num),1),(0,o.Lk)("td",fa,(0,r.v_)(e.count),1),(0,o.Lk)("td",Ca,(0,r.v_)(e.num*e.count),1)])))),128)),(0,o.Lk)("tr",null,[ba,(0,o.Lk)("td",ga,(0,r.v_)(n.CalcSum2(i.SalesM)),1)])])])):(0,o.Q3)("",!0)],512)):((0,o.uX)(),(0,o.CE)("div",_a,wa))}var Ta={data(){return{SalessShow:"",id:"",username:"",Users:[],SelectedUser:"",SelectedDate:"",Harmonies:[],HarmoniesShow:0,MaterialsShow:0,Expenses:[],Store:{},Purchases:{},Sales:{},Orders:[],Places:["صالة 1","صالة 2","صالة 3","صالة 4","صالة 5","صالة 6","صالة 7","صالة 8","Room 1","Room 2","Room 3","Room 4","Room 5","Room 6","Room 7","Room 8","Delivery","TakeAway"],Materials:[],FilteredMaterials:[],SelectedMaterial:"",SalesM:[],Rooms:[],SalesDiff:[],SalesRooms:[]}},created(){this.id=this.getCookie("user_id"),this.username=this.getCookie("user_name"),this.SalesShow=this.getCookie("user_sales"),this.getCookie("user_id")||this.$router.push("/cafe-ps8/"),this.GetUsers()},mounted(){this.$store.dispatch("globalFunction")},computed:{groupedSalesDiff(){return this.SalesDiff.reduce(((e,t)=>(e[t.sector]||(e[t.sector]=[]),e[t.sector].push(t),e)),{})},groupedProducts(){return this.Sales.reduce(((e,t)=>("normal"!==t.sector&&"multi"!==t.sector&&"plus"!==t.sector&&"netflix"!==t.sector&&(e[t.sector]||(e[t.sector]=[]),e[t.sector].push(t)),e)),{})},groupedPSs(){return this.Sales.reduce(((e,t)=>("normal"!==t.sector&&"multi"!==t.sector&&"plus"!==t.sector&&"netflix"!==t.sector||(e[t.sector]||(e[t.sector]=[]),e[t.sector].push(t)),e)),{})}},methods:{getCookie(e){return d.A.get(e)},async GetUsers(){try{const e=await C.A.get("http://localhost/cafe-ps8/api/Sales.php");this.Users=e.data.Users,this.Materials=e.data.Materials}catch(e){console.error("fail:",e)}},async SelectUser(){try{const e=await C.A.post("http://localhost/cafe-ps8/api/Sales.php",{Type:"DataPerDay",SelectedUser:this.SelectedUser,SelectedDate:this.SelectedDate});this.Harmonies=e.data.Harmonies,this.Expenses=e.data.Expenses,this.Store=e.data.Store,this.Purchases=e.data.Purchases,this.Sales=e.data.Sales,this.Orders=e.data.Orders,this.Rooms=e.data.Rooms,this.SalesDiff=e.data.SalesDiff,this.SalesRoomsM(),this.HarmoniesShow=1,this.SelectedUser="",this.SelectedDate=""}catch(e){console.error("fail:",e)}},SalesRoomsM(){const e=this.Rooms.reduce(((e,t)=>(t&&void 0!==t.place&&(e[t.place]||(e[t.place]=[]),e[t.place].push(t)),e)),{});this.SalesRooms=e},async SelectMaterial(){try{const e=await C.A.post("http://localhost/cafe-ps8/api/Sales.php",{Type:"Materials",SelectedMaterial:this.SelectedMaterial});this.FilteredMaterials=this.Materials.filter((e=>e.id==this.SelectedMaterial))[0],this.SalesM=e.data.SalesM,this.MaterialsShow=1,this.SelectedMaterial=""}catch(e){console.error("fail:",e)}},CalcTotal(e){return e.reduce(((e,t)=>(Number(e)+Number(t.price)*Number(t.quantity)).toFixed(2)),0)},CalcSum(e){return e.reduce(((e,t)=>(Number(e)+Number(t.sum)).toFixed(2)),0)},CalcSum2(e){return e.reduce(((e,t)=>(Number(e)+Number(t.num)*Number(t.count)).toFixed(2)),0)},CalcSum3(e){return e.reduce(((e,t)=>(Number(e)+Number(t.sum)).toFixed(2)),0)},CalcSum4(e){return e.reduce(((e,t)=>(Number(e)+Number(t.price)).toFixed(2)),0)},async Print(e){const t=this.$refs["printsection"+e][0].outerHTML,s=this.$refs.sales.innerHTML;this.$refs.sales.innerHTML=t,await this.$nextTick(),window.print(),this.$refs.sales.innerHTML=s,await window.location.reload()},async PrintAll(){const e=this.$refs.All.outerHTML,t=this.$refs.sales.innerHTML;this.$refs.sales.innerHTML=e,await this.$nextTick(),window.print(),this.$refs.sales.innerHTML=t,await window.location.reload()}}};const Xa=(0,h.A)(Ta,[["render",Ma],["__scopeId","data-v-17a17a7f"]]);var Aa=Xa;const xa={key:0,id:"ProductsBody"},Fa={class:"field"},Ua=(0,o.Lk)("option",{disabled:"",value:""},"مطعم / كافيه",-1),Ra=(0,o.Lk)("option",{value:"1"},"مطعم",-1),Da=(0,o.Lk)("option",{value:"0"},"كافيه",-1),$a=[Ua,Ra,Da],Ia={key:0,class:"field"},Na=(0,o.Lk)("option",{disabled:"",value:""},"أقسام",-1),Qa=["value"],Ka=(0,o.Lk)("button",{type:"submit"},"إضافة",-1),Va=(0,o.Lk)("option",{disabled:"",value:""},"أقسام",-1),Oa=["value"],qa=(0,o.Lk)("button",{type:"submit"},"حذف",-1),Wa={key:1,class:"field"},Ga=(0,o.Lk)("h1",null,"المنتجات",-1),Ha={dir:"rtl",id:"ProductsTable"},Ja=(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"م"),(0,o.Lk)("th",null,"الاسم"),(0,o.Lk)("th",null,"السعر"),(0,o.Lk)("th",null,"سعر قبل"),(0,o.Lk)("th",null,"عدد المبيعات"),(0,o.Lk)("th",null,"له مكونات"),(0,o.Lk)("th",null,"تعديل"),(0,o.Lk)("th",null,"حذف")],-1),Ba={key:0},ja={key:1},za=["onClick"],Ya=["onClick"],Za=(0,o.Lk)("option",{disabled:"",value:""},"له مكونات ؟",-1),eo=(0,o.Lk)("option",{value:"1"},"نعم",-1),to=(0,o.Lk)("option",{value:"0"},"لا",-1),so=[Za,eo,to],ao={type:"submit"},oo={key:2,class:"field"},ro=(0,o.Lk)("h1",null,"المواد الخام",-1),lo={dir:"rtl",id:"MaterialsTable"},io=(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"م"),(0,o.Lk)("th",null,"الاسم"),(0,o.Lk)("th",null,"عدد بالمخزن"),(0,o.Lk)("th",null,"عدد مشتريات"),(0,o.Lk)("th",null,"حذف")],-1),no=["onClick"],co=(0,o.Lk)("button",{type:"submit"},"إضافة",-1),uo=(0,o.Lk)("hr",null,null,-1),po={key:3,class:"field"},ho=(0,o.Lk)("option",{disabled:"",value:""},"حدد مكونات لمنتج",-1),ko=["value"],mo=(0,o.Lk)("option",{disabled:"",value:""},"اختر مواد خام",-1),So=["value"],Po=(0,o.Lk)("button",{type:"submit"},"إضافة",-1),Lo={key:4,class:"field"},vo={dir:"rtl",id:"PMTable"},yo=(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"م"),(0,o.Lk)("th",null,"الكمية"),(0,o.Lk)("th",null,"المادة"),(0,o.Lk)("th",null,"حذف")],-1),fo=["onClick"],Co={key:1,class:"no"},bo=(0,o.Lk)("div",null,"عفواً ,غير مسموح لك بالتعديل فى المنتجات",-1),go=[bo];function _o(e,t,s,l,i,n){return 1==i.ShowProductsPage?((0,o.uX)(),(0,o.CE)("div",xa,[(0,o.Lk)("div",Fa,[(0,o.bo)((0,o.Lk)("select",{onChange:t[0]||(t[0]=(...e)=>n.GetSectors&&n.GetSectors(...e)),required:"","onUpdate:modelValue":t[1]||(t[1]=e=>i.SelectCafeRest=e)},$a,544),[[a.u1,i.SelectCafeRest]])]),i.SectorShow?((0,o.uX)(),(0,o.CE)("div",Ia,[(0,o.bo)((0,o.Lk)("select",{onChange:t[2]||(t[2]=(...e)=>n.GetProducts&&n.GetProducts(...e)),required:"","onUpdate:modelValue":t[3]||(t[3]=e=>i.Sector=e)},[Na,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.Sectors,((e,t)=>((0,o.uX)(),(0,o.CE)("option",{key:t,value:e.id},(0,r.v_)(e.name),9,Qa)))),128))],544),[[a.u1,i.Sector]]),(0,o.Lk)("form",{onSubmit:t[5]||(t[5]=(0,a.D$)(((...e)=>n.AddSector&&n.AddSector(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.NewSector=e),type:"text",placeholder:"أضف قسم جديد",required:""},null,512),[[a.Jo,i.NewSector]]),Ka],32),(0,o.Lk)("form",{onSubmit:t[7]||(t[7]=(0,a.D$)(((...e)=>n.DeleteSector&&n.DeleteSector(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[6]||(t[6]=e=>i.OldSector=e)},[Va,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.Sectors,((e,t)=>((0,o.uX)(),(0,o.CE)("option",{key:t,value:e.id},(0,r.v_)(e.name),9,Oa)))),128))],512),[[a.u1,i.OldSector]]),qa],32)])):(0,o.Q3)("",!0),1==i.ProductsShow?((0,o.uX)(),(0,o.CE)("div",Wa,[Ga,(0,o.Lk)("div",null,[(0,o.Lk)("table",Ha,[Ja,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.Products,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",null,(0,r.v_)(t+1),1),(0,o.Lk)("td",null,(0,r.v_)(e.name),1),(0,o.Lk)("td",null,(0,r.v_)(e.price),1),(0,o.Lk)("td",null,(0,r.v_)(e.price_before),1),(0,o.Lk)("td",null,(0,r.v_)(e.num_sales),1),1==e.comp?((0,o.uX)(),(0,o.CE)("td",Ba,"له مكونات")):((0,o.uX)(),(0,o.CE)("td",ja,"ليس له مكونات")),(0,o.Lk)("td",{onClick:t=>n.EditProduct(e)},"تعديل",8,za),(0,o.Lk)("td",{onClick:t=>n.DeleteProduct(e)},"حذف",8,Ya)])))),128))])]),(0,o.Lk)("form",{onSubmit:t[12]||(t[12]=(0,a.D$)(((...e)=>n.AddEditProduct&&n.AddEditProduct(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>i.ProductName=e),type:"text",placeholder:"الإسم",required:""},null,512),[[a.Jo,i.ProductName]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>i.ProductPrice=e),type:"number",placeholder:"السعر",required:""},null,512),[[a.Jo,i.ProductPrice]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>i.ProductPriceBefore=e),type:"number",placeholder:"السعر قبل",required:""},null,512),[[a.Jo,i.ProductPriceBefore]]),(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[11]||(t[11]=e=>i.ProductComp=e)},so,512),[[a.u1,i.ProductComp]]),(0,o.Lk)("button",ao,(0,r.v_)(i.ProductAddEdit),1)],32)])):(0,o.Q3)("",!0),1==i.MaterialsShow?((0,o.uX)(),(0,o.CE)("div",oo,[ro,(0,o.Lk)("div",null,[(0,o.Lk)("table",lo,[io,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.Materials,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",null,(0,r.v_)(t+1),1),(0,o.Lk)("td",null,(0,r.v_)(e.name),1),(0,o.Lk)("td",null,(0,r.v_)(e.num_store),1),(0,o.Lk)("td",null,(0,r.v_)(e.num_purchases),1),(0,o.Lk)("td",{onClick:t=>n.DeleteMaterial(e)},"حذف",8,no)])))),128))])]),(0,o.Lk)("form",{onSubmit:t[14]||(t[14]=(0,a.D$)(((...e)=>n.AddMaterial&&n.AddMaterial(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>i.MaterialName=e),type:"text",placeholder:"الإسم",required:""},null,512),[[a.Jo,i.MaterialName]]),co],32)])):(0,o.Q3)("",!0),uo,1==i.ProductsShow?((0,o.uX)(),(0,o.CE)("div",po,[(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[15]||(t[15]=e=>i.ProductsMaterials=e)},[ho,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.FilteredProducts,((e,t)=>((0,o.uX)(),(0,o.CE)("option",{key:t,value:e.id},(0,r.v_)(e.name),9,ko)))),128))],512),[[a.u1,i.ProductsMaterials]]),(0,o.Lk)("form",{onSubmit:t[18]||(t[18]=(0,a.D$)(((...e)=>n.AddPM&&n.AddPM(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[16]||(t[16]=e=>i.PMid=e)},[mo,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.AllMaterials,((e,t)=>((0,o.uX)(),(0,o.CE)("option",{key:t,value:e.id},(0,r.v_)(e.name),9,So)))),128))],512),[[a.u1,i.PMid]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[17]||(t[17]=e=>i.PMnum=e),type:"text",placeholder:"الكمية",required:""},null,512),[[a.Jo,i.PMnum]]),Po],32)])):(0,o.Q3)("",!0),1==i.ProductsShow?((0,o.uX)(),(0,o.CE)("div",Lo,[(0,o.Lk)("div",null,[(0,o.Lk)("table",vo,[yo,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.ProductsMaterialsArr,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",null,(0,r.v_)(t+1),1),(0,o.Lk)("td",null,(0,r.v_)(e.num),1),(0,o.Lk)("td",null,(0,r.v_)(e.name),1),(0,o.Lk)("td",{onClick:t=>n.DeletePM(e)},"حذف",8,fo)])))),128))])])])):(0,o.Q3)("",!0)])):((0,o.uX)(),(0,o.CE)("div",Co,go))}var Eo={data(){return{id:"",ShowProductsPage:"",SelectCafeRest:"",SectorShow:0,Sector:"",Sectors:[],NewSector:"",OldSector:"",Products:[],FilteredProducts:[],ProductsShow:0,ProductId:"",ProductName:"",ProductPrice:"",ProductPriceBefore:"",ProductComp:"",ProductAddEdit:"إضافة",Materials:[],AllMaterials:[],MaterialsShow:0,MaterialId:"",MaterialName:"",MaterialPrice:"",ProductsMaterials:"",MaterialsProducts:"",ProductsMaterialsArr:[],PMid:"",PMnum:""}},watch:{SelectCafeRest:function(e){""==e&&(this.SectorShow=0,this.Sector="",this.Sectors=[],this.Products=[],this.ProductsShow=0,this.Materials=[],this.MaterialsShow=0)},Sector:function(e){""==e&&(this.Products=[],this.ProductsShow=0,this.Materials=[],this.MaterialsShow=0)},ProductsMaterials:function(e){""!=e&&this.GetProductsMaterials()}},mounted(){this.$store.dispatch("globalFunction")},created(){this.id=this.getCookie("user_id"),this.ShowProductsPage=this.getCookie("user_products"),this.getCookie("user_id")||this.$router.push("/cafe-ps8/")},methods:{getCookie(e){return d.A.get(e)},async GetSectors(){if(""!=this.SelectCafeRest)try{const e=await C.A.post("http://localhost/cafe-ps8/api/products.php",{Type:"Sectors",SelectCafeRest:this.SelectCafeRest});this.Sectors=e.data.Sectors,this.AllMaterials=e.data.AllMaterials,this.SectorShow=1,this.Sector=""}catch(e){console.error("fail:",e)}this.Products=[],this.ProductsShow=0,this.Materials=[],this.MaterialsShow=0},async GetAllMaterials(){if(""!=this.SelectCafeRest)try{const e=await C.A.post("http://localhost/cafe-ps8/api/products.php",{Type:"Sectors",SelectCafeRest:this.SelectCafeRest});this.AllMaterials=e.data.AllMaterials}catch(e){console.error("fail:",e)}},async AddSector(){try{const e=await C.A.post("http://localhost/cafe-ps8/api/products.php",{Type:"AddSector",SelectCafeRest:this.SelectCafeRest,NewSector:this.NewSector});alert(e.data.message)}catch(e){console.error("Error deleting user:",e.message)}this.NewSector="",this.GetSectors()},async DeleteSector(){try{const e=await C.A.delete("http://localhost/cafe-ps8/api/products.php",{data:{Type:"Sector",OldSector:this.OldSector}});alert(e.data.message)}catch(e){console.error("Error deleting user:",e.message)}this.OldSector="",this.Sector="",this.GetSectors()},async GetProducts(){if(""!=this.Sector)try{const e=await C.A.post("http://localhost/cafe-ps8/api/products.php",{Type:"Products",Sector:this.Sector});this.Products=e.data.Products,this.ProductsShow=1,this.Materials=e.data.Materials,this.MaterialsShow=1,this.FilteredProducts=this.Products.filter((e=>1==e.comp)),console.log(this.FilteredProducts)}catch(e){console.error("fail:",e)}this.GetAllMaterials()},EditProduct(e){this.ProductId=e.id,this.ProductName=e.name,this.ProductPrice=e.price,this.ProductPriceBefore=e.price_before,this.ProductComp=e.comp,this.ProductAddEdit="تعديل"},async AddEditProduct(){if("إضافة"==this.ProductAddEdit)try{const e=await C.A.post("http://localhost/cafe-ps8/api/products.php",{Type:"AddProduct",ProductName:this.ProductName,ProductPrice:Math.abs(this.ProductPrice),ProductPriceBefore:Math.abs(this.ProductPriceBefore),ProductComp:this.ProductComp,ProductSector:this.Sector});alert(e.data.message)}catch(e){console.error("Error deleting user:",e.message)}else try{const e=await C.A.put("http://localhost/cafe-ps8/api/products.php",{Type:"product",ProductId:this.ProductId,ProductName:this.ProductName,ProductPrice:Math.abs(this.ProductPrice),ProductPriceBefore:Math.abs(this.ProductPriceBefore),ProductComp:this.ProductComp});alert(e.data.message)}catch(e){console.error("Error deleting user:",e.message)}this.ProductName="",this.ProductPrice="",this.ProductComp="",this.ProductPriceBefore="",this.ProductAddEdit="إضافة",this.GetProducts()},async DeleteProduct(e){try{const t=await C.A.delete("http://localhost/cafe-ps8/api/products.php",{data:{Product:e.id,Type:"Product"}});alert(t.data.message)}catch(t){console.error("Error deleting user:",t.message)}this.GetProducts()},async AddMaterial(){try{const e=await C.A.post("http://localhost/cafe-ps8/api/products.php",{Type:"AddMaterial",MaterialName:this.MaterialName,MaterialPrice:Math.abs(this.MaterialPrice),MaterialSector:this.Sector});alert(e.data.message)}catch(e){console.error("Error deleting user:",e.message)}this.MaterialName="",this.MaterialPrice="",this.GetProducts()},async DeleteMaterial(e){try{const t=await C.A.delete("http://localhost/cafe-ps8/api/products.php",{data:{Material:e.id,Type:"Material"}});alert(t.data.message)}catch(t){console.error("Error deleting user:",t.message)}this.GetProducts(),this.GetProductsMaterials()},async GetProductsMaterials(){if(""!=this.ProductsMaterials)try{const e=await C.A.post("http://localhost/cafe-ps8/api/products.php",{Type:"ProductsMaterials",ProductsMaterials:this.ProductsMaterials});this.ProductsMaterialsArr=e.data.ProductsMaterialsArr}catch(e){console.error("fail:",e)}},async AddPM(){try{const e=await C.A.post("http://localhost/cafe-ps8/api/products.php",{Type:"AddPM",PMid:this.PMid,PMnum:Math.abs(this.PMnum),PMproduct:this.ProductsMaterials});alert(e.data.message)}catch(e){console.error("Error deleting user:",e.message)}this.PMid="",this.PMnum="",this.GetProductsMaterials()},async DeletePM(e){try{const t=await C.A.delete("http://localhost/cafe-ps8/api/products.php",{data:{ProductsMaterials:e.id,Type:"ProductsMaterials"}});alert(t.data.message)}catch(t){console.error("Error deleting user:",t.message)}this.GetProductsMaterials()}}};const wo=(0,h.A)(Eo,[["render",_o]]);var Mo=wo;const To=e=>((0,o.Qi)("data-v-e3c4dccc"),e=e(),(0,o.jt)(),e),Xo={key:0,id:"RoomsBody",ref:"room"},Ao={key:0,id:"AllButtons"},xo=["onClick"],Fo={key:1,id:"Place"},Uo={style:{width:"100%","text-align":"center","background-color":"white"}},Ro={ref:"order"},Do=To((()=>(0,o.Lk)("tr",null,null,-1))),$o={colspan:"4"},Io=To((()=>(0,o.Lk)("tr",null,null,-1))),No=To((()=>(0,o.Lk)("img",{src:Zt},null,-1))),Qo=[No],Ko=To((()=>(0,o.Lk)("tr",null,null,-1))),Vo={colspan:"4"},Oo=To((()=>(0,o.Lk)("tr",null,null,-1))),qo={colspan:"4"},Wo=To((()=>(0,o.Lk)("tr",null,null,-1))),Go=To((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("td",null,"وصف"),(0,o.Lk)("td",null,"عدد"),(0,o.Lk)("td",null,"سعر"),(0,o.Lk)("td",null,"اجمالى")],-1))),Ho=To((()=>(0,o.Lk)("tr",null,null,-1))),Jo=To((()=>(0,o.Lk)("td",{colspan:"2"},"اجمالى",-1))),Bo={colspan:"2"},jo=To((()=>(0,o.Lk)("tr",null,null,-1))),zo=To((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("td",{colspan:"4"},"المحمودية - ش البوستة")],-1))),Yo=To((()=>(0,o.Lk)("tr",null,null,-1))),Zo=To((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("td",{colspan:"2"},"01208020853"),(0,o.Lk)("td",{colspan:"2"},"01068517773")],-1))),er=To((()=>(0,o.Lk)("tr",null,null,-1))),tr={ref:"kitchen"},sr=To((()=>(0,o.Lk)("tr",null,null,-1))),ar={colspan:"5"},or=To((()=>(0,o.Lk)("tr",null,null,-1))),rr=To((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("td",null,"وصف"),(0,o.Lk)("td",null,"عدد"),(0,o.Lk)("td",null,"سعر"),(0,o.Lk)("td",null,"اجمالى"),(0,o.Lk)("td",null,"حذف")],-1))),lr=["onClick"],ir=To((()=>(0,o.Lk)("tr",null,null,-1))),nr=To((()=>(0,o.Lk)("td",{colspan:"2"},"اجمالى",-1))),cr={colspan:"3"},ur=To((()=>(0,o.Lk)("tr",null,null,-1))),dr=To((()=>(0,o.Lk)("option",{disabled:"",value:""},"اختر القسم",-1))),pr=["value"],hr=To((()=>(0,o.Lk)("option",{disabled:"",value:""},"اختر الاوردر",-1))),kr=["value"],mr=To((()=>(0,o.Lk)("button",{type:"submit"},"إضافة",-1))),Sr={id:"ProductsList"},Pr=["value"],Lr=To((()=>(0,o.Lk)("button",{type:"submit"},"إضافة",-1))),vr=(0,o.Fv)('<option disabled value="" data-v-e3c4dccc>اختار المكان</option><option value="0" data-v-e3c4dccc>صالة 1</option><option value="1" data-v-e3c4dccc>صالة 2</option><option value="2" data-v-e3c4dccc>صالة 3</option><option value="3" data-v-e3c4dccc>صالة 4</option><option value="4" data-v-e3c4dccc>صالة 5</option><option value="5" data-v-e3c4dccc>صالة 6</option><option value="6" data-v-e3c4dccc>صالة 7</option><option value="7" data-v-e3c4dccc>صالة 8</option><option value="8" data-v-e3c4dccc>بلايستيشن 1</option><option value="9" data-v-e3c4dccc>بلايستيشن 2</option><option value="10" data-v-e3c4dccc>بلايستيشن 3</option><option value="11" data-v-e3c4dccc>بلايستيشن 4</option><option value="12" data-v-e3c4dccc>بلايستيشن 5</option><option value="13" data-v-e3c4dccc>بلايستيشن 6</option><option value="14" data-v-e3c4dccc>بلايستيشن 7</option><option value="15" data-v-e3c4dccc>بلايستيشن 8</option><option value="16" data-v-e3c4dccc>دليفرى</option><option value="17" data-v-e3c4dccc>تيك أواى</option>',19),yr=[vr],fr=To((()=>(0,o.Lk)("button",{type:"submit"},"نقل مكان",-1))),Cr=To((()=>(0,o.Lk)("button",{type:"submit"},"رجوع",-1))),br=[Cr],gr={key:0},_r={key:0,style:{"text-align":"center"}},Er={key:1},wr={key:2},Mr={key:3},Tr={key:4},Xr=To((()=>(0,o.Lk)("option",{disabled:"",value:""},"طريقة التشغيل",-1))),Ar={key:0,value:"normal"},xr={key:1,value:"multi"},Fr={key:2,value:"plus"},Ur={key:3,value:"netflix"},Rr={key:1,class:"no"},Dr=To((()=>(0,o.Lk)("div",null,"عفواً ,غير مسموح لك بالتعديل فى الصالات",-1))),$r=[Dr];function Ir(e,t,s,l,i,n){return 1==i.RoomsShow?((0,o.uX)(),(0,o.CE)("div",Xo,[1==i.ButtonsShow?((0,o.uX)(),(0,o.CE)("div",Ao,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.Places,((e,t)=>((0,o.uX)(),(0,o.CE)("button",{key:t,onClick:s=>n.ShowPlace(e,t)},(0,r.v_)(e.Room),9,xo)))),128))])):(0,o.Q3)("",!0),0==i.ButtonsShow?((0,o.uX)(),(0,o.CE)("div",Fo,[(0,o.Lk)("h1",Uo,(0,r.v_)(i.Places[i.CurrentPlace].Room),1),(0,o.Lk)("table",Ro,[Do,(0,o.Lk)("tr",null,[(0,o.Lk)("td",$o,(0,r.v_)(i.Place.Room),1)]),Io,(0,o.Lk)("tr",null,[(0,o.Lk)("td",{onClick:t[0]||(t[0]=e=>n.Print("order")),colspan:"4"},Qo)]),Ko,(0,o.Lk)("tr",null,[(0,o.Lk)("td",Vo,(0,r.v_)(i.time),1)]),Oo,(0,o.Lk)("tr",null,[(0,o.Lk)("td",qo,(0,r.v_)(i.username),1)]),Wo,Go,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.Place.items,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",null,(0,r.v_)(e.Order),1),(0,o.Lk)("td",null,(0,r.v_)(e.Quantity),1),(0,o.Lk)("td",null,(0,r.v_)(e.Price),1),(0,o.Lk)("td",null,(0,r.v_)((e.Price*e.Quantity).toFixed(2)),1)])))),128)),Ho,(0,o.Lk)("tr",null,[Jo,(0,o.Lk)("td",Bo,(0,r.v_)(i.Place.Total),1)]),jo,zo,Yo,Zo,er],512),(0,o.Lk)("table",tr,[sr,(0,o.Lk)("tr",{onClick:t[1]||(t[1]=e=>n.Print2("kitchen"))},[(0,o.Lk)("td",ar,(0,r.v_)(i.Place.Room),1)]),or,rr,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.Place.items,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",null,(0,r.v_)(e.Order),1),(0,o.Lk)("td",null,(0,r.v_)(e.Quantity),1),(0,o.Lk)("td",null,(0,r.v_)(e.Price),1),(0,o.Lk)("td",null,(0,r.v_)((e.Price*e.Quantity).toFixed(2)),1),(0,o.Lk)("td",{onClick:e=>n.RemoveItem(t)},"X",8,lr)])))),128)),ir,(0,o.Lk)("tr",null,[nr,(0,o.Lk)("td",cr,(0,r.v_)(i.Place.Total),1)]),ur],512),(0,o.Lk)("form",{onSubmit:t[5]||(t[5]=(0,a.D$)(((...e)=>n.AddItem&&n.AddItem(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[2]||(t[2]=e=>i.Sector=e)},[dr,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.Sectors,((e,t)=>((0,o.uX)(),(0,o.CE)("option",{key:t,value:e.id},(0,r.v_)(e.name),9,pr)))),128))],512),[[a.u1,i.Sector]]),(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[3]||(t[3]=e=>i.Product=e)},[hr,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.FilteredProducts,((e,t)=>((0,o.uX)(),(0,o.CE)("option",{key:t,value:e.id},(0,r.v_)(e.name),9,kr)))),128))],512),[[a.u1,i.Product]]),(0,o.bo)((0,o.Lk)("input",{required:"","onUpdate:modelValue":t[4]||(t[4]=e=>i.Quantity=e),type:"number",placeholder:"الكمية"},null,512),[[a.Jo,i.Quantity]]),mr],32),(0,o.Lk)("form",{onSubmit:t[8]||(t[8]=(0,a.D$)(((...e)=>n.AddItem2&&n.AddItem2(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("input",{list:"ProductsList",required:"","onUpdate:modelValue":t[6]||(t[6]=e=>i.Product2=e),type:"text",placeholder:"المنتج"},null,512),[[a.Jo,i.Product2]]),(0,o.bo)((0,o.Lk)("input",{required:"","onUpdate:modelValue":t[7]||(t[7]=e=>i.Quantity2=e),type:"number",placeholder:"الكمية"},null,512),[[a.Jo,i.Quantity2]]),(0,o.Lk)("datalist",Sr,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.Products,((e,t)=>((0,o.uX)(),(0,o.CE)("option",{key:t,value:e.id},(0,r.v_)(e.name),9,Pr)))),128))]),Lr],32),(0,o.Lk)("form",{onSubmit:t[10]||(t[10]=(0,a.D$)(((...e)=>n.ChangePlaces&&n.ChangePlaces(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("select",{required:"","onUpdate:modelValue":t[9]||(t[9]=e=>i.NewPlace=e)},yr,512),[[a.u1,i.NewPlace]]),fr],32),(0,o.Lk)("form",{onSubmit:t[11]||(t[11]=(0,a.D$)(((...e)=>n.BackPlaces&&n.BackPlaces(...e)),["prevent"]))},br,32),1==i.PSsShow?((0,o.uX)(),(0,o.CE)("form",gr,[(0,o.Lk)("h2",null,(0,r.v_)(i.Places[i.CurrentPlace].Room),1),1==i.PSs[i.CurrentPlace-8].state?((0,o.uX)(),(0,o.CE)("h5",_r,(0,r.v_)(i.PSs[i.CurrentPlace-8].start),1)):(0,o.Q3)("",!0),1==i.PSs[i.CurrentPlace-8].type?((0,o.uX)(),(0,o.CE)("h3",Er,"بلايستيشن 5")):((0,o.uX)(),(0,o.CE)("h3",wr,"بلايستيشن 4")),1==i.PSs[i.CurrentPlace-8].state?((0,o.uX)(),(0,o.CE)("h3",Mr,(0,r.v_)(i.PSW[i.CurrentPlace-8]),1)):(0,o.Q3)("",!0),1==i.PSs[i.CurrentPlace-8].state?((0,o.uX)(),(0,o.CE)("h3",Tr,(0,r.v_)(i.PST[i.CurrentPlace-8]),1)):(0,o.Q3)("",!0),0==i.PSs[i.CurrentPlace-8].state?(0,o.bo)(((0,o.uX)(),(0,o.CE)("select",{key:5,"onUpdate:modelValue":t[12]||(t[12]=e=>i.PSWT=e)},[Xr,1==i.PSs[i.CurrentPlace-8].normal?((0,o.uX)(),(0,o.CE)("option",Ar," عادى ")):(0,o.Q3)("",!0),1==i.PSs[i.CurrentPlace-8].multi?((0,o.uX)(),(0,o.CE)("option",xr," مالتى ")):(0,o.Q3)("",!0),1==i.PSs[i.CurrentPlace-8].plus?((0,o.uX)(),(0,o.CE)("option",Fr," بلاس ")):(0,o.Q3)("",!0),1==i.PSs[i.CurrentPlace-8].netflix?((0,o.uX)(),(0,o.CE)("option",Ur," نتفلكس ")):(0,o.Q3)("",!0)],512)),[[a.u1,i.PSWT]]):(0,o.Q3)("",!0),0==i.PSs[i.CurrentPlace-8].state?(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:6,placeholder:"ضع الوقت بالساعات",type:"number","onUpdate:modelValue":t[13]||(t[13]=e=>i.PSTT=e)},null,512)),[[a.Jo,i.PSTT]]):(0,o.Q3)("",!0),0==i.PSs[i.CurrentPlace-8].state?((0,o.uX)(),(0,o.CE)("button",{key:7,style:{"background-color":"green"},onClick:t[14]||(t[14]=e=>n.PlayPS(i.CurrentPlace-8)),type:"button"}," تشغيل ")):((0,o.uX)(),(0,o.CE)("button",{key:8,style:{"background-color":"red"},onClick:t[15]||(t[15]=e=>n.StopPS(i.CurrentPlace-8)),type:"button"}," إيقاف "))])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0)],512)):((0,o.uX)(),(0,o.CE)("div",Rr,$r))}var Nr={data(){return{RoomsShow:"",id:"",username:"",Places:[{id:"Room1",Room:"صالة 1",items:[],Total:0},{id:"Room2",Room:"صالة 2",items:[],Total:0},{id:"Room3",Room:"صالة 3",items:[],Total:0},{id:"Room4",Room:"صالة 4",items:[],Total:0},{id:"Room5",Room:"صالة 5",items:[],Total:0},{id:"Room6",Room:"صالة 6",items:[],Total:0},{id:"Room7",Room:"صالة 7",items:[],Total:0},{id:"Room8",Room:"صالة 8",items:[],Total:0},{id:"PS1",Room:"PS1",items:[],Total:0},{id:"PS2",Room:"PS2",items:[],Total:0},{id:"PS3",Room:"PS3",items:[],Total:0},{id:"PS4",Room:"PS4",items:[],Total:0},{id:"PS5",Room:"PS5",items:[],Total:0},{id:"PS6",Room:"PS6",items:[],Total:0},{id:"PS7",Room:"PS7",items:[],Total:0},{id:"PS8",Room:"PS8",items:[],Total:0},{id:"Delivery",Room:"Delivery",items:[],Total:0},{id:"TakeAway",Room:"TakeAway",items:[],Total:0}],Place:{},CurrentPlace:"",NewPlace:"",ButtonsShow:1,Sectors:[],Products:[],FilteredProducts:[],Sector:"",Product:"",Quantity:"",Product2:"",Quantity2:"",PSs:[],PSWT:"",PSTT:0,PSsShow:0,PSW:["","","","","","","",""],PST:[0,0,0,0,0,0,0,0],time:""}},created(){this.id=this.getCookie("user_id"),this.username=this.getCookie("user_name"),this.RoomsShow=this.getCookie("user_rooms"),this.getCookie("user_id")||this.$router.push("/cafe-ps8/"),this.GetData(),this.getTime(),this.startInterval(),this.$store.dispatch("globalFunction")},watch:{Sector:function(){this.FilteredProducts=this.Products.filter((e=>e.id_sector==this.Sector))}},methods:{getCookie(e){return d.A.get(e)},ShowPlace(e,t){this.Place=e,this.PSsShow=t>7&&t<16?1:0,this.ButtonsShow=0,this.CurrentPlace=t},BackPlaces(){this.ButtonsShow=1},async GetData(){try{const e=await C.A.get("http://localhost/cafe-ps8/api/orders.php",{params:{timestamp:(new Date).getTime()}});this.Sectors=e.data.Sectors,this.Products=e.data.Products,this.Places=JSON.parse(e.data.Places[0].orders),this.PSW=JSON.parse(e.data.Places[1].orders),this.PST=JSON.parse(e.data.Places[2].orders),this.PSs=e.data.PSs,this.$forceUpdate()}catch(e){console.error("fail:",e)}this.Place=this.Places[this.CurrentPlace]},async AddItem(){const e=this.Products.filter((e=>e.id==this.Product))[0],t=Number(e.price).toFixed(2),s=e.name;let a=this.Places[this.CurrentPlace].items.find((e=>e.Order==s));a?a.Quantity+=Math.abs(this.Quantity.toFixed(2)):this.Places[this.CurrentPlace].items.push({Order:s,Quantity:Math.abs(this.Quantity.toFixed(2)),Price:t});let o=0;this.Places[this.CurrentPlace].items.forEach((e=>{o+=e.Quantity*e.Price})),this.Places[this.CurrentPlace].Total=o.toFixed(2),this.Product="",this.Sector="",this.Quantity="",this.$forceUpdate(),await this.UpdateItems(),await this.GetData()},async AddItem2(){const e=this.Products.filter((e=>e.id==this.Product2))[0],t=Number(e.price).toFixed(2),s=e.name;let a=this.Places[this.CurrentPlace].items.find((e=>e.Order==s));a?a.Quantity+=Math.abs(this.Quantity2.toFixed(2)):this.Places[this.CurrentPlace].items.push({Order:s,Quantity:Math.abs(this.Quantity2.toFixed(2)),Price:t});let o=0;this.Places[this.CurrentPlace].items.forEach((e=>{o+=e.Quantity*e.Price})),this.Places[this.CurrentPlace].Total=o.toFixed(2),this.Product2="",this.Quantity2="",this.$forceUpdate(),await this.UpdateItems(),await this.GetData()},async RemoveItem(e){const t=this.Places[this.CurrentPlace].items[e].Order;if("normal"!=t&&"multi"!=t&&"plus"!=t&&"netflix"!=t){this.Places[this.CurrentPlace].items.splice(e,1);let t=0;this.Places[this.CurrentPlace].items.forEach((e=>{t+=e.Quantity*e.Price})),this.Places[this.CurrentPlace].Total=t.toFixed(2),await this.UpdateItems(),await this.GetData()}else alert("لن يتم الحذف")},async UpdateItems(){try{const e=await C.A.put("http://localhost/cafe-ps8/api/orders.php",{JSON:this.Places,JSONW:this.PSW,JSONT:this.PST});console.log(e.data.msg)}catch(e){console.error("fail:",e)}},async PlayPS(e){if(""==this.PSWT)alert("أكمل الحقول الفارغة");else{this.getTime();try{const t=await C.A.put("http://localhost/cafe-ps8/api/orders.php",{IdPS:e+1,Time:this.time});console.log(t.data.msg)}catch(t){console.error("fail:",t)}0==this.PSTT||""==this.PSTT?this.PST[e]=0:this.PST[e]=Math.abs(Number(this.PSTT)),this.PSW[e]=this.PSWT,this.PSWT="",this.PSTT=0,await this.UpdateItems(),this.GetData()}},async StopPS(e){this.getTime();try{const t=await C.A.put("http://localhost/cafe-ps8/api/orders.php",{IdPS:e+1,stop:0});console.log(t.data.msg)}catch(l){console.error("fail:",l)}let t;"normal"==this.PSW[e]?t=this.PSs[e].normal_price:"multi"==this.PSW[e]?t=this.PSs[e].multi_price:"plus"==this.PSW[e]?t=this.PSs[e].plus_price:"netflix"==this.PSW[e]&&(t=this.PSs[e].netflix_price);const s=new Date(this.PSs[e].start.replace(" ","T")),a=new Date(this.time.replace(" ","T")),o=((a-s)/6e4/60).toFixed(2);this.PST[e]=o,this.Places[e+8].items.unshift({Order:this.PSW[e],Quantity:this.PST[e],Price:t});let r=0;this.Places[e+8].items.forEach((e=>{r+=e.Quantity*e.Price})),this.Places[e+8].Total=r.toFixed(2),this.PSW[e]="",this.PST[e]=0,await this.UpdateItems(),this.GetData()},startInterval(){setInterval((()=>{this.getTime()}),3e4)},async ChangePlaces(){const e=this.Places[this.CurrentPlace].items;this.Places[this.CurrentPlace].items=this.Places[this.NewPlace].items,this.Places[this.NewPlace].items=e;const t=this.Places[this.CurrentPlace].Total;this.Places[this.CurrentPlace].Total=this.Places[this.NewPlace].Total,this.Places[this.NewPlace].Total=t,await this.UpdateItems(),await this.GetData(),this.NewPlace=""},async Print(e){if(0!=this.Places[this.CurrentPlace].Total){const t=this.$refs[e].outerHTML,s=this.$refs.room.innerHTML;this.$refs.room.innerHTML=t,await this.$nextTick(),window.print(),await this.checkdb(),this.$refs.room.innerHTML=s,await window.location.reload()}else alert("الاودر فارغ")},async Print2(e){if(0!=this.Places[this.CurrentPlace].Total){const t=this.$refs[e].outerHTML,s=this.$refs.room.innerHTML;this.$refs.room.innerHTML=t,await this.$nextTick(),window.print(),this.$refs.room.innerHTML=s,await window.location.reload()}else alert("الاودر فارغ")},async checkdb(){try{const e=await C.A.post("http://localhost/cafe-ps8/api/orders.php",{Id:this.id,Time:this.time,Orders:this.Places[this.CurrentPlace].items,Place:this.CurrentPlace});console.log(e.data),"تم الإضافة"==e.data.message&&(this.Places[this.CurrentPlace].items=[],this.Places[this.CurrentPlace].Total=0)}catch(e){console.error("Error deleting user:",e.message)}await this.UpdateItems(),await this.GetData()},getTime(){const e=new Date,t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),o=String(e.getHours()).padStart(2,"0"),r=String(e.getMinutes()).padStart(2,"0"),l=String(e.getSeconds()).padStart(2,"0");this.time=`${t}-${s}-${a} ${o}:${r}:${l}`}}};const Qr=(0,h.A)(Nr,[["render",Ir],["__scopeId","data-v-e3c4dccc"]]);var Kr=Qr;const Vr={key:0,id:"HarmonyBody"},Or={dir:"rtl",id:"HarmonyTable"},qr=(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"م"),(0,o.Lk)("th",null,"التفاصيل"),(0,o.Lk)("th",null,"حذف")],-1),Wr=["onClick"],Gr=(0,o.Lk)("button",{type:"submit"},"إضافة",-1),Hr={key:1,class:"no"},Jr=(0,o.Lk)("div",null,"عفواً ,غير مسموح لك بالتعديل فى التوالف",-1),Br=[Jr];function jr(e,t,s,l,i,n){return 1==i.Sharmony?((0,o.uX)(),(0,o.CE)("div",Vr,[(0,o.Lk)("div",null,[(0,o.Lk)("table",Or,[qr,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.harmonies,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",null,(0,r.v_)(t+1),1),(0,o.Lk)("td",null,(0,r.v_)(e.details),1),(0,o.Lk)("td",{onClick:t=>n.DeleteHarmony(e)},"حذف",8,Wr)])))),128))])]),(0,o.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)(((...e)=>n.AddHarmony&&n.AddHarmony(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.details=e),type:"text",placeholder:"تفاصيل",required:""},null,512),[[a.Jo,i.details]]),Gr],32)])):((0,o.uX)(),(0,o.CE)("div",Hr,Br))}var zr={data(){return{id:"",user:"",details:"",Sharmony:"",harmonies:[],addedit:"إضافة"}},mounted(){this.$store.dispatch("globalFunction")},created(){this.id=this.getCookie("user_id"),this.user=this.getCookie("user_name"),this.Sharmony=this.getCookie("user_harmony"),this.getCookie("user_id")||this.$router.push("/cafe-ps8/"),this.getharmony()},methods:{getCookie(e){return d.A.get(e)},async getharmony(){try{const e=await C.A.get("http://localhost/cafe-ps8/api/harmony.php");this.harmonies=e.data.harmonies,this.harmonies=this.harmonies.filter((e=>e.id_user==this.id))}catch(e){console.error("Login failed:",e)}},async DeleteHarmony(e){try{const t=await C.A.delete("http://localhost/cafe-ps8/api/harmony.php",{data:{id:e.id}});alert(t.data.message),this.getharmony()}catch(t){console.error("Error deleting user:",t.message)}},async AddHarmony(){try{const e=await C.A.post("http://localhost/cafe-ps8/api/harmony.php",{id_user:this.id,details:this.details});alert(e.data.message),this.getharmony()}catch(e){console.error("Error deleting user:",e.message)}this.details=""}}};const Yr=(0,h.A)(zr,[["render",jr]]);var Zr=Yr;const el={key:0,id:"ExpensesBody"},tl={dir:"rtl",id:"ExpensesTable"},sl=(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"م"),(0,o.Lk)("th",null,"المواد الخام"),(0,o.Lk)("th",null,"السعر"),(0,o.Lk)("th",null,"حذف")],-1),al=["onClick"],ol=(0,o.Lk)("button",{type:"submit"},"إضافة",-1),rl={key:1,class:"no"},ll=(0,o.Lk)("div",null,"عفواً ,غير مسموح لك بالتعديل فى المصاريف",-1),il=[ll];function nl(e,t,s,l,i,n){return 1==i.Sexpenses?((0,o.uX)(),(0,o.CE)("div",el,[(0,o.Lk)("div",null,[(0,o.Lk)("table",tl,[sl,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.expenses,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",null,(0,r.v_)(t+1),1),(0,o.Lk)("td",null,(0,r.v_)(e.material),1),(0,o.Lk)("td",null,(0,r.v_)(e.price),1),(0,o.Lk)("td",{onClick:t=>n.DeleteExpenses(e)},"حذف",8,al)])))),128))])]),(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>n.AddExpenses&&n.AddExpenses(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.material=e),type:"text",placeholder:"المادة",required:""},null,512),[[a.Jo,i.material]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.price=e),type:"text",placeholder:"السعر",required:""},null,512),[[a.Jo,i.price]]),ol],32)])):((0,o.uX)(),(0,o.CE)("div",rl,il))}var cl={data(){return{id:"",user:"",material:"",price:"",Sexpenses:"",expenses:[]}},created(){this.id=this.getCookie("user_id"),this.user=this.getCookie("user_name"),this.Sexpenses=this.getCookie("user_harmony"),this.getCookie("user_id")||this.$router.push("/cafe-ps8/"),this.getExpenses()},mounted(){this.$store.dispatch("globalFunction")},methods:{getCookie(e){return d.A.get(e)},async getExpenses(){try{const e=await C.A.get("http://localhost/cafe-ps8/api/expenses.php");this.expenses=e.data.expenses,this.expenses=this.expenses.filter((e=>e.id_user==this.id))}catch(e){console.error("Login failed:",e)}},async DeleteExpenses(e){try{const t=await C.A.delete("http://localhost/cafe-ps8/api/expenses.php",{data:{id:e.id}});alert(t.data.message),this.getExpenses()}catch(t){console.error("Error deleting user:",t.message)}},async AddExpenses(){try{const e=await C.A.post("http://localhost/cafe-ps8/api/expenses.php",{id_user:this.id,material:this.material,price:Math.abs(this.price)});alert(e.data.message),this.getExpenses()}catch(e){console.error("Error deleting user:",e.message)}this.material="",this.price=""}}};const ul=(0,h.A)(cl,[["render",nl]]);var dl=ul;const pl={key:0,id:"StoreBody"},hl=(0,o.Lk)("option",{disabled:"",value:""},"مطعم \\ كافيه",-1),kl=(0,o.Lk)("option",{value:"1"},"مطعم",-1),ml=(0,o.Lk)("option",{value:"0"},"كافيه",-1),Sl=[hl,kl,ml],Pl=(0,o.Lk)("option",{disabled:"",value:""},"اختر القسم",-1),Ll=["value"],vl={key:0},yl=(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"م"),(0,o.Lk)("th",null,"اسم"),(0,o.Lk)("th",null,"عدد"),(0,o.Lk)("th",null,"زيادة"),(0,o.Lk)("th",null,"نقص")],-1),fl=["onClick"],Cl=["onClick"],bl={key:1,class:"no"},gl=(0,o.Lk)("div",null,"عفواً ,غير مسموح لك بالتعديل فى المخزن",-1),_l=[gl];function El(e,t,s,l,i,n){return 1==i.ShowStore?((0,o.uX)(),(0,o.CE)("div",pl,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.SelectKindModel=e)},Sl,512),[[a.u1,i.SelectKindModel]]),1==i.SectorShow?(0,o.bo)(((0,o.uX)(),(0,o.CE)("select",{key:0,"onUpdate:modelValue":t[1]||(t[1]=e=>i.SelectSector=e)},[Pl,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.Sectors,((e,t)=>((0,o.uX)(),(0,o.CE)("option",{key:t,value:e.id},(0,r.v_)(e.name),9,Ll)))),128))],512)),[[a.u1,i.SelectSector]]):(0,o.Q3)("",!0),(0,o.Lk)("div",null,[1==i.MaterialShow?((0,o.uX)(),(0,o.CE)("table",vl,[yl,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.Materials,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",null,(0,r.v_)(t+1),1),(0,o.Lk)("td",null,(0,r.v_)(e.name),1),(0,o.Lk)("td",null,(0,r.v_)(e.num_store),1),(0,o.Lk)("td",{class:"point",onClick:t=>n.MaterialIncrement(e)},"+",8,fl),(0,o.Lk)("td",{class:"point",onClick:t=>n.MaterialDecreasement(e)},"-",8,Cl)])))),128))])):(0,o.Q3)("",!0)])])):((0,o.uX)(),(0,o.CE)("div",bl,_l))}var wl={data(){return{id:"",ShowStore:"",SelectKindModel:"",Sectors:[],SelectSector:"",SectorShow:"",Materials:[],MaterialShow:""}},watch:{SelectKindModel:function(){this.SelectSector="",this.getSectors()},SelectSector:function(){this.getMaterials()}},created(){this.id=this.getCookie("user_id"),this.ShowStore=this.getCookie("user_store"),this.getCookie("user_id")||this.$router.push("/cafe-ps8/")},mounted(){this.$store.dispatch("globalFunction")},methods:{getCookie(e){return d.A.get(e)},async getSectors(){try{const e=await C.A.post("http://localhost/cafe-ps8/api/store.php",{GetType:"Sectors",GetSectors:this.SelectKindModel});this.Sectors=e.data.Sectors}catch(e){console.error("error:",e)}""==this.SelectKindModel?this.SectorShow=0:this.SectorShow=1},async getMaterials(){try{const e=await C.A.post("http://localhost/cafe-ps8/api/store.php",{GetType:"Materials",GetSector:this.SelectSector});this.Materials=e.data.Materials}catch(e){console.error("error:",e)}""==this.SelectSector?this.MaterialShow=0:this.MaterialShow=1},async MaterialIncrement(e){try{const t=await C.A.put("http://localhost/cafe-ps8/api/store.php",{id_user:this.id,Type:1,id:e.id,num:e.num_store});console.log(t.data.message)}catch(t){console.error("error:",t)}this.getMaterials()},async MaterialDecreasement(e){try{const t=await C.A.put("http://localhost/cafe-ps8/api/store.php",{id_user:this.id,Type:0,id:e.id,num:e.num_store});console.log(t.data.message)}catch(t){console.error("error:",t)}this.getMaterials()}}};const Ml=(0,h.A)(wl,[["render",El]]);var Tl=Ml;const Xl=[{path:"/cafe-ps8/",component:_},{path:"/cafe-ps8/home",component:F},{path:"/cafe-ps8/affairs",component:Ut},{path:"/cafe-ps8/ps",component:fe},{path:"/cafe-ps8/purchases",component:Yt},{path:"/cafe-ps8/sales",component:Aa},{path:"/cafe-ps8/products",component:Mo},{path:"/cafe-ps8/rooms",component:Kr},{path:"/cafe-ps8/harmony",component:Zr},{path:"/cafe-ps8/expenses",component:dl},{path:"/cafe-ps8/store",component:Tl}],Al=(0,S.aE)({history:(0,S.LA)(),routes:Xl});var xl=Al,Fl=s(782);const Ul="http://localhost/cafe-ps8/api/orders.php";var Rl=(0,Fl.y$)({state:{RoomsShow:"",id:"",username:"",Places:[{id:"Room1",Room:"صالة 1",items:[],Total:0},{id:"Room2",Room:"صالة 2",items:[],Total:0},{id:"Room3",Room:"صالة 3",items:[],Total:0},{id:"Room4",Room:"صالة 4",items:[],Total:0},{id:"Room5",Room:"صالة 5",items:[],Total:0},{id:"Room6",Room:"صالة 6",items:[],Total:0},{id:"Room7",Room:"صالة 7",items:[],Total:0},{id:"Room8",Room:"صالة 8",items:[],Total:0},{id:"PS1",Room:"PS1",items:[],Total:0},{id:"PS2",Room:"PS2",items:[],Total:0},{id:"PS3",Room:"PS3",items:[],Total:0},{id:"PS4",Room:"PS4",items:[],Total:0},{id:"PS5",Room:"PS5",items:[],Total:0},{id:"PS6",Room:"PS6",items:[],Total:0},{id:"PS7",Room:"PS7",items:[],Total:0},{id:"PS8",Room:"PS8",items:[],Total:0},{id:"Delivery",Room:"Delivery",items:[],Total:0},{id:"TakeAway",Room:"TakeAway",items:[],Total:0}],Place:{},CurrentPlace:"",NewPlace:"",ButtonsShow:1,Sectors:[],Products:[],FilteredProducts:[],Sector:"",Product:"",Quantity:"",Product2:"",Quantity2:"",PSs:[],PSWT:"",PSTT:0,PSW:["","","","","","","",""],PST:[0,0,0,0,0,0,0,0],time:""},mutations:{SET_PLACES(e,t){e.Places=t},SET_SECTORS(e,t){e.Sectors=t},SET_PRODUCTS(e,t){e.Products=t},SET_PS(e,t){e.PSs=t},SET_PSW(e,t){e.PSW=t},SET_PST(e,t){e.PST=t},SET_TIME(e,t){e.time=t}},actions:{async globalFunction({dispatch:e}){setInterval((async()=>{await e("GetData"),await e("getTime");for(let t=0;t<8;t++)if(0!=this.state.PST[t]&&1==this.state.PSs[t].state){const s=new Date(this.state.PSs[t].start.replace(" ","T")),a=new Date(this.state.time.replace(" ","T")),o=((a-s)/36e5).toFixed(2);console.log(o),this.state.PST[t]-o<=0&&await e("StopPS",t)}}),3e4)},getTime({commit:e}){const t=new Date,s=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0"),i=String(t.getSeconds()).padStart(2,"0"),n=`${s}-${a}-${o} ${r}:${l}:${i}`;e("SET_TIME",n)},async UpdateItems({state:e}){try{const t=await C.A.put(Ul,{JSON:e.Places,JSONW:e.PSW,JSONT:e.PST});console.log(t.data.msg)}catch(t){console.error("fail:",t)}},async GetData({commit:e,state:t}){try{const t=await C.A.get(Ul,{params:{timestamp:(new Date).getTime()}});e("SET_PLACES",JSON.parse(t.data.Places[0].orders)),e("SET_PSW",JSON.parse(t.data.Places[1].orders)),e("SET_PST",JSON.parse(t.data.Places[2].orders)),e("SET_PS",t.data.PSs),e("SET_PRODUCTS",t.data.Products),e("SET_SECTORS",t.data.Sectors)}catch(s){console.error("fail:",s)}t.Place=t.Places[t.CurrentPlace]},async StopPS({dispatch:e,commit:t,state:s},a){await e("getTime");try{const e=await C.A.put(Ul,{IdPS:a+1,stop:0});console.log(e.data.msg)}catch(c){console.error("fail:",c)}let o;"normal"==s.PSW[a]?o=s.PSs[a].normal_price:"multi"==s.PSW[a]?o=s.PSs[a].multi_price:"plus"==s.PSW[a]?o=s.PSs[a].plus_price:"netflix"==s.PSW[a]&&(o=s.PSs[a].netflix_price);const r=new Date(s.PSs[a].start.replace(" ","T")),l=new Date(s.time.replace(" ","T")),i=((l-r)/6e4/60).toFixed(2);t("SET_PST",[...s.PST.slice(0,a),i,...s.PST.slice(a+1)]),s.Places[a+8].items.unshift({Order:s.PSW[a],Quantity:i,Price:o});let n=0;s.Places[a+8].items.forEach((e=>{n+=e.Quantity*e.Price})),t("SET_PLACES",[...s.Places.slice(0,a+8),{...s.Places[a+8],Total:n.toFixed(2)},...s.Places.slice(a+9)]),t("SET_PSW",[...s.PSW.slice(0,a),"",...s.PSW.slice(a+1)]),t("SET_PST",[...s.PST.slice(0,a),0,...s.PST.slice(a+1)]),await e("UpdateItems"),await e("GetData"),window.location.reload()}},getters:{allPlaces(e){return e.Places},allProducts(e){return e.Products},allPSs(e){return e.PSs},getTime(e){return e.time}}});(0,a.Ef)(m).use(xl).use(Rl).mount("#app")}},t={};function s(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,a,o,r){if(!a){var l=1/0;for(u=0;u<e.length;u++){a=e[u][0],o=e[u][1],r=e[u][2];for(var i=!0,n=0;n<a.length;n++)(!1&r||l>=r)&&Object.keys(s.O).every((function(e){return s.O[e](a[n])}))?a.splice(n--,1):(i=!1,r<l&&(l=r));if(i){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[a,o,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/cafe-ps8/"}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,r,l=a[0],i=a[1],n=a[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(o in i)s.o(i,o)&&(s.m[o]=i[o]);if(n)var u=n(s)}for(t&&t(a);c<l.length;c++)r=l[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(u)},a=self["webpackChunkcafe_ps8"]=self["webpackChunkcafe_ps8"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(1375)}));a=s.O(a)})();
//# sourceMappingURL=app.797d7657.js.map