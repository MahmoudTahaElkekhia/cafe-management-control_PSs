(function(){"use strict";var e={8767:function(e,t,a){var o=a(5130),s=a(6768),i=a(4232);const r={key:0,dir:"rtl",class:"navbar"},l={class:"navbar-brand"},n={key:0,class:"navbar-menu"};function u(e,t,a,o,u,d){const c=(0,s.g2)("router-link"),p=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)(s.FK,null,[u.navbarcheck?((0,s.uX)(),(0,s.CE)("nav",r,[(0,s.Lk)("div",l,[(0,s.bF)(c,{class:"navbar-item",exact:"",to:"/home"},{default:(0,s.k6)((()=>[(0,s.eW)("Black Light")])),_:1}),(0,s.Lk)("a",{class:(0,i.C4)({"arrow-up":u.isArrowUp,"arrow-down":!u.isArrowUp,"navbar-button":!0}),onClick:t[0]||(t[0]=(...e)=>d.toggleNavbar&&d.toggleNavbar(...e))},null,2)]),u.isNavbarActive?((0,s.uX)(),(0,s.CE)("div",n,[(0,s.bF)(c,{class:"navbar-item",to:"/affairs"},{default:(0,s.k6)((()=>[(0,s.eW)("العاملين")])),_:1}),(0,s.bF)(c,{class:"navbar-item",to:"/PS"},{default:(0,s.k6)((()=>[(0,s.eW)("بلايستيشن")])),_:1}),(0,s.bF)(c,{class:"navbar-item",to:"/purchases"},{default:(0,s.k6)((()=>[(0,s.eW)("المشتريات")])),_:1}),(0,s.bF)(c,{class:"navbar-item",to:"/sales"},{default:(0,s.k6)((()=>[(0,s.eW)("المبيعات")])),_:1}),(0,s.bF)(c,{class:"navbar-item",to:"/harmony"},{default:(0,s.k6)((()=>[(0,s.eW)("التوالف")])),_:1}),(0,s.bF)(c,{class:"navbar-item",to:"/products"},{default:(0,s.k6)((()=>[(0,s.eW)("المنتجات")])),_:1}),(0,s.bF)(c,{class:"navbar-item",to:"/rooms"},{default:(0,s.k6)((()=>[(0,s.eW)("الصالات")])),_:1}),(0,s.bF)(c,{class:"navbar-item",to:"/expenses"},{default:(0,s.k6)((()=>[(0,s.eW)("المصاريف")])),_:1}),(0,s.bF)(c,{class:"navbar-item",to:"/store"},{default:(0,s.k6)((()=>[(0,s.eW)("المخزن")])),_:1})])):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),(0,s.bF)(p)],64)}var d=a(8704),c={data(){return{navbarcheck:"",screenWidth:window.innerWidth,isNavbarActive:!0,isArrowUp:!0}},created(){window.addEventListener("resize",this.handleResize),this.$router.beforeEach(((e,t,a)=>{"/"===e.path?this.navbarcheck=!1:this.navbarcheck=!0,a()}))},unmounted(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize(){const e=window.innerWidth;e!==this.screenWidth&&(this.screenWidth=e,this.screenWidth>600?this.isNavbarActive=!0:(this.isNavbarActive=!1,this.isArrowUp=!1))},toggleNavbar(){this.isNavbarActive=!this.isNavbarActive,this.isArrowUp=!this.isArrowUp},getCookie(e){return d.A.get(e)}}},p=a(1241);const h=(0,p.A)(c,[["render",u]]);var k=h,m=a(1387);const v={id:"LoginBody"},L=(0,s.Lk)("h1",null,"Black Light",-1),S=(0,s.Lk)("button",{type:"submit"},"تسجيل الدخول",-1),y={key:0,id:"login_error"};function f(e,t,a,r,l,n){return(0,s.uX)(),(0,s.CE)("div",v,[(0,s.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>n.login&&n.login(...e)),["prevent"]))},[L,(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e),type:"text",placeholder:"ادخل اسم المستخدم",required:""},null,512),[[o.Jo,l.username]]),(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),placeholder:"ادخل كلمة المرور",required:""},null,512),[[o.Jo,l.password]]),S,l.errorMessage?((0,s.uX)(),(0,s.CE)("p",y,(0,i.v_)(l.errorMessage),1)):(0,s.Q3)("",!0)],32)])}a(4114);var P=a(4373),b={data(){return{username:"",password:"",errorMessage:""}},created(){this.getCookie("user_id")&&this.$router.push("/home")},methods:{async login(){try{const e=await P.A.post("http://localhost/cafe-ps8/api/login.php",{username:this.username,password:this.password});if(200===e.status){const t=e.data.message;1==t?(this.$router.push("/home"),this.setSecureCookie("user_id",e.data.user.id,7),this.setSecureCookie("user_name",e.data.user.username,7),this.setSecureCookie("user_role",e.data.user.role,7),this.setSecureCookie("user_affairs",e.data.user.affairs,7),this.setSecureCookie("user_ps",e.data.user.ps,7),this.setSecureCookie("user_purchases",e.data.user.purchases,7),this.setSecureCookie("user_sales",e.data.user.sales,7),this.setSecureCookie("user_harmony",e.data.user.harmony,7),this.setSecureCookie("user_products",e.data.user.products,7),this.setSecureCookie("user_rooms",e.data.user.rooms,7),this.setSecureCookie("user_expenses",e.data.user.expenses,7),this.setSecureCookie("user_store",e.data.user.store,7)):(this.errorMessage="اسم المستخدم أو كلمة المرور غير صحيح",console.log(e.data))}else this.errorMessage=e.data.message}catch(e){console.error("Login failed:",e),this.errorMessage="اسم المستخدم أو كلمة المرور غير صحيح"}},setSecureCookie(e,t,a){d.A.set(e,t,{expires:a,secure:!0,sameSite:"Strict"})},getCookie(e){return d.A.get(e)}}};const C=(0,p.A)(b,[["render",f]]);var g=C;const E={id:"HomeBody"},_=(0,s.Lk)("h1",null,"Black Light",-1),M={key:0},w={key:1};function X(e,t,a,o,r,l){return(0,s.uX)(),(0,s.CE)("div",E,[_,(0,s.Lk)("h2",null,(0,i.v_)(r.username),1),1==r.role?((0,s.uX)(),(0,s.CE)("h3",M,"Admin")):((0,s.uX)(),(0,s.CE)("h3",w,"User")),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.logout&&l.logout(...e))},"تسجيل الخروج")])}var A={data(){return{id:"",username:"",role:""}},created(){this.id=this.getCookie("user_id"),this.username=this.getCookie("user_name"),this.role=this.getCookie("user_role"),this.getCookie("user_id")||this.$router.push("/")},methods:{logout(){this.removeCookie("user_id"),this.removeCookie("user_name"),this.removeCookie("user_role"),this.$router.push("/")},removeCookie(e){d.A.remove(e,{secure:!0,sameSite:"Strict"})},getCookie(e){return d.A.get(e)}}};const T=(0,p.A)(A,[["render",X]]);var U=T;const x={key:0,id:"PSBody"},I={dir:"rtl",id:"PSTable"},N=(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"م"),(0,s.Lk)("th",null,"بلاى ستيشن"),(0,s.Lk)("th",null,"عادى"),(0,s.Lk)("th",null,"سعر"),(0,s.Lk)("th",null,"مالتى"),(0,s.Lk)("th",null,"سعر"),(0,s.Lk)("th",null,"بلس"),(0,s.Lk)("th",null,"سعر"),(0,s.Lk)("th",null,"نتفلكس"),(0,s.Lk)("th",null,"سعر"),(0,s.Lk)("th",null,"النوع"),(0,s.Lk)("th",null,"تعديل")],-1),F={key:0},D={key:1},V={key:2},$={key:3},q={key:4},R={key:5},O={key:6},K={key:7},Q={key:8},W={key:9},G=["onClick"],H=(0,s.Lk)("option",{disabled:"",value:""},"صلاحية العادى",-1),J=(0,s.Lk)("option",{value:"1"},"مسموح",-1),B=(0,s.Lk)("option",{value:"0"},"ممنوع",-1),j=[H,J,B],z=(0,s.Lk)("option",{disabled:"",value:""},"صلاحية المالتى",-1),Y=(0,s.Lk)("option",{value:"1"},"مسموح",-1),Z=(0,s.Lk)("option",{value:"0"},"ممنوع",-1),ee=[z,Y,Z],te=(0,s.Lk)("option",{disabled:"",value:""},"صلاحية البلس",-1),ae=(0,s.Lk)("option",{value:"1"},"مسموح",-1),oe=(0,s.Lk)("option",{value:"0"},"ممنوع",-1),se=[te,ae,oe],ie=(0,s.Lk)("option",{disabled:"",value:""},"صلاحية النتفلكس",-1),re=(0,s.Lk)("option",{value:"1"},"مسموح",-1),le=(0,s.Lk)("option",{value:"0"},"ممنوع",-1),ne=[ie,re,le],ue=(0,s.Lk)("option",{disabled:"",value:""},"نوع الجهاز",-1),de=(0,s.Lk)("option",{value:"1"},"بلايستيشن 5",-1),ce=(0,s.Lk)("option",{value:"0"},"بلايستيشن 4",-1),pe=[ue,de,ce],he=(0,s.Lk)("button",{type:"submit"},"تعديل",-1),ke={key:1,class:"no"},me=(0,s.Lk)("div",null,"عفواً ,غير مسموح لك بالتعديل فى اعدادات البلايستيشن",-1),ve=[me];function Le(e,t,a,r,l,n){return 1==l.SPS?((0,s.uX)(),(0,s.CE)("div",x,[(0,s.Lk)("div",null,[(0,s.Lk)("table",I,[N,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.PSs,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[(0,s.Lk)("td",null,(0,i.v_)(e.id),1),(0,s.Lk)("td",null,(0,i.v_)(e.name),1),1==e.normal?((0,s.uX)(),(0,s.CE)("td",F,"مسموح")):((0,s.uX)(),(0,s.CE)("td",D,"ممنوع")),(0,s.Lk)("td",null,(0,i.v_)(e.normal_price),1),1==e.multi?((0,s.uX)(),(0,s.CE)("td",V,"مسموح")):((0,s.uX)(),(0,s.CE)("td",$,"ممنوع")),(0,s.Lk)("td",null,(0,i.v_)(e.multi_price),1),1==e.plus?((0,s.uX)(),(0,s.CE)("td",q,"مسموح")):((0,s.uX)(),(0,s.CE)("td",R,"ممنوع")),(0,s.Lk)("td",null,(0,i.v_)(e.plus_price),1),1==e.netflix?((0,s.uX)(),(0,s.CE)("td",O,"مسموح")):((0,s.uX)(),(0,s.CE)("td",K,"ممنوع")),(0,s.Lk)("td",null,(0,i.v_)(e.netflix_price),1),1==e.type?((0,s.uX)(),(0,s.CE)("td",Q,"بلايستيشن 5")):((0,s.uX)(),(0,s.CE)("td",W,"بلايستيشن 4")),(0,s.Lk)("td",{onClick:t=>n.EditUser(e)},"تعديل",8,G)])))),128))])]),(0,s.Lk)("form",{onSubmit:t[10]||(t[10]=(0,o.D$)(((...e)=>n.EditUserApi&&n.EditUserApi(...e)),["prevent"]))},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.ps=e),type:"text",placeholder:"اسم البلايستيشن",required:"",disabled:""},null,512),[[o.Jo,l.ps]]),(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[1]||(t[1]=e=>l.normal=e)},j,512),[[o.u1,l.normal]]),(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>l.normal_price=e),placeholder:"السعر",required:""},null,512),[[o.Jo,l.normal_price]]),(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[3]||(t[3]=e=>l.multi=e)},ee,512),[[o.u1,l.multi]]),(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>l.multi_price=e),placeholder:"السعر",required:""},null,512),[[o.Jo,l.multi_price]]),(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[5]||(t[5]=e=>l.plus=e)},se,512),[[o.u1,l.plus]]),(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=e=>l.plus_price=e),placeholder:"السعر",required:""},null,512),[[o.Jo,l.plus_price]]),(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[7]||(t[7]=e=>l.netflix=e)},ne,512),[[o.u1,l.netflix]]),(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=e=>l.netflix_price=e),placeholder:"السعر",required:""},null,512),[[o.Jo,l.netflix_price]]),(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[9]||(t[9]=e=>l.type=e)},pe,512),[[o.u1,l.type]]),he],32)])):((0,s.uX)(),(0,s.CE)("div",ke,ve))}var Se={data(){return{id:"",SPS:"",PSs:[],ps:"",normal:"",normal_price:"",multi:"",multi_price:"",plus:"",plus_price:"",netflix:"",netflix_price:"",type:""}},created(){this.id=this.getCookie("user_id"),this.SPS=this.getCookie("user_ps"),this.getCookie("user_id")||this.$router.push("/"),this.getps()},methods:{getCookie(e){return d.A.get(e)},async getps(){try{const e=await P.A.get("http://localhost/cafe-ps8/api/ps.php");this.PSs=e.data.PSs}catch(e){console.error("Login failed:",e)}},EditUser(e){this.ps=e.name},async EditUserApi(){try{const e=await P.A.put("http://localhost/cafe-ps8/api/ps.php",{name:this.ps,normal:this.normal,normal_price:Math.abs(this.normal_price),multi:this.multi,multi_price:Math.abs(this.multi_price),plus:this.plus,plus_price:Math.abs(this.plus_price),netflix:this.netflix,netflix_price:Math.abs(this.netflix_price),type:this.type});alert(e.data.message),this.getps(),this.addedit="إضافة"}catch(e){console.error("Error deleting user:",e.message)}this.ps="",this.normal="",this.normal_price="",this.multi="",this.multi_price="",this.plus="",this.plus_price="",this.netflix="",this.netflix_price="",this.type=""}}};const ye=(0,p.A)(Se,[["render",Le]]);var fe=ye;const Pe={key:0,id:"AffairsBody"},be={dir:"rtl",id:"AffairsTable"},Ce=(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"م"),(0,s.Lk)("th",null,"الاسم"),(0,s.Lk)("th",null,"العاملين"),(0,s.Lk)("th",null,"بلايستيشن"),(0,s.Lk)("th",null,"المشتريات"),(0,s.Lk)("th",null,"المبيعات"),(0,s.Lk)("th",null,"التوالف"),(0,s.Lk)("th",null,"المنتجات"),(0,s.Lk)("th",null,"الصالات"),(0,s.Lk)("th",null,"المصاريف"),(0,s.Lk)("th",null,"المخزن"),(0,s.Lk)("th",null,"تعديل"),(0,s.Lk)("th",null,"حذف")],-1),ge={key:0},Ee={key:1},_e={key:2},Me={key:3},we={key:4},Xe={key:5},Ae={key:6},Te={key:7},Ue={key:8},xe={key:9},Ie={key:10},Ne={key:11},Fe={key:12},De={key:13},Ve={key:14},$e={key:15},qe={key:16},Re={key:17},Oe=["onClick"],Ke=["onClick"],Qe=(0,s.Lk)("option",{disabled:"",value:""},"صلاحية العاملين",-1),We=(0,s.Lk)("option",{value:"1"},"مسموح",-1),Ge=(0,s.Lk)("option",{value:"0"},"ممنوع",-1),He=[Qe,We,Ge],Je=(0,s.Lk)("option",{disabled:"",value:""},"صلاحية البلايستيشن",-1),Be=(0,s.Lk)("option",{value:"1"},"مسموح",-1),je=(0,s.Lk)("option",{value:"0"},"ممنوع",-1),ze=[Je,Be,je],Ye=(0,s.Lk)("option",{disabled:"",value:""},"صلاحية المشتريات",-1),Ze=(0,s.Lk)("option",{value:"1"},"مسموح",-1),et=(0,s.Lk)("option",{value:"0"},"ممنوع",-1),tt=[Ye,Ze,et],at=(0,s.Lk)("option",{disabled:"",value:""},"صلاحية المبيعات",-1),ot=(0,s.Lk)("option",{value:"1"},"مسموح",-1),st=(0,s.Lk)("option",{value:"0"},"ممنوع",-1),it=[at,ot,st],rt=(0,s.Lk)("option",{disabled:"",value:""},"صلاحية التوالف",-1),lt=(0,s.Lk)("option",{value:"1"},"مسموح",-1),nt=(0,s.Lk)("option",{value:"0"},"ممنوع",-1),ut=[rt,lt,nt],dt=(0,s.Lk)("option",{disabled:"",value:""},"صلاحية المنتجات",-1),ct=(0,s.Lk)("option",{value:"1"},"مسموح",-1),pt=(0,s.Lk)("option",{value:"0"},"ممنوع",-1),ht=[dt,ct,pt],kt=(0,s.Lk)("option",{disabled:"",value:""},"صلاحية الصالات",-1),mt=(0,s.Lk)("option",{value:"1"},"مسموح",-1),vt=(0,s.Lk)("option",{value:"0"},"ممنوع",-1),Lt=[kt,mt,vt],St=(0,s.Lk)("option",{disabled:"",value:""},"صلاحية المصروفات",-1),yt=(0,s.Lk)("option",{value:"1"},"مسموح",-1),ft=(0,s.Lk)("option",{value:"0"},"ممنوع",-1),Pt=[St,yt,ft],bt=(0,s.Lk)("option",{disabled:"",value:""},"صلاحية المخزن",-1),Ct=(0,s.Lk)("option",{value:"1"},"مسموح",-1),gt=(0,s.Lk)("option",{value:"0"},"ممنوع",-1),Et=[bt,Ct,gt],_t={type:"submit"},Mt={key:1,class:"no"},wt=(0,s.Lk)("div",null,"عفواً ,غير مسموح لك بالتعديل فى شئون العاملين",-1),Xt=[wt];function At(e,t,a,r,l,n){return 1==l.Saffairs?((0,s.uX)(),(0,s.CE)("div",Pe,[(0,s.Lk)("div",null,[(0,s.Lk)("table",be,[Ce,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.users,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[(0,s.Lk)("td",null,(0,i.v_)(e.id),1),(0,s.Lk)("td",null,(0,i.v_)(e.username),1),1==e.affairs?((0,s.uX)(),(0,s.CE)("td",ge,"مسموح")):((0,s.uX)(),(0,s.CE)("td",Ee,"ممنوع")),1==e.ps?((0,s.uX)(),(0,s.CE)("td",_e,"مسموح")):((0,s.uX)(),(0,s.CE)("td",Me,"ممنوع")),1==e.purchases?((0,s.uX)(),(0,s.CE)("td",we,"مسموح")):((0,s.uX)(),(0,s.CE)("td",Xe,"ممنوع")),1==e.sales?((0,s.uX)(),(0,s.CE)("td",Ae,"مسموح")):((0,s.uX)(),(0,s.CE)("td",Te,"ممنوع")),1==e.harmony?((0,s.uX)(),(0,s.CE)("td",Ue,"مسموح")):((0,s.uX)(),(0,s.CE)("td",xe,"ممنوع")),1==e.products?((0,s.uX)(),(0,s.CE)("td",Ie,"مسموح")):((0,s.uX)(),(0,s.CE)("td",Ne,"ممنوع")),1==e.rooms?((0,s.uX)(),(0,s.CE)("td",Fe,"مسموح")):((0,s.uX)(),(0,s.CE)("td",De,"ممنوع")),1==e.expenses?((0,s.uX)(),(0,s.CE)("td",Ve,"مسموح")):((0,s.uX)(),(0,s.CE)("td",$e,"ممنوع")),1==e.store?((0,s.uX)(),(0,s.CE)("td",qe,"مسموح")):((0,s.uX)(),(0,s.CE)("td",Re,"ممنوع")),(0,s.Lk)("td",{onClick:t=>n.EditUser(e)},"تعديل",8,Oe),(0,s.Lk)("td",{onClick:t=>n.DeleteUser(e)},"حذف",8,Ke)])))),128))])]),(0,s.Lk)("form",{onSubmit:t[11]||(t[11]=(0,o.D$)(((...e)=>n.AddEditUser&&n.AddEditUser(...e)),["prevent"]))},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e),type:"text",placeholder:"اسم المستخدم",required:""},null,512),[[o.Jo,l.username]]),(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),placeholder:"كلمة المرور",required:""},null,512),[[o.Jo,l.password]]),(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[2]||(t[2]=e=>l.affairs=e)},He,512),[[o.u1,l.affairs]]),(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[3]||(t[3]=e=>l.ps=e)},ze,512),[[o.u1,l.ps]]),(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[4]||(t[4]=e=>l.purchases=e)},tt,512),[[o.u1,l.purchases]]),(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[5]||(t[5]=e=>l.sales=e)},it,512),[[o.u1,l.sales]]),(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[6]||(t[6]=e=>l.harmony=e)},ut,512),[[o.u1,l.harmony]]),(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[7]||(t[7]=e=>l.products=e)},ht,512),[[o.u1,l.products]]),(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[8]||(t[8]=e=>l.rooms=e)},Lt,512),[[o.u1,l.rooms]]),(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[9]||(t[9]=e=>l.expenses=e)},Pt,512),[[o.u1,l.expenses]]),(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[10]||(t[10]=e=>l.store=e)},Et,512),[[o.u1,l.store]]),(0,s.Lk)("button",_t,(0,i.v_)(l.addedit),1)],32)])):((0,s.uX)(),(0,s.CE)("div",Mt,Xt))}var Tt={data(){return{id:"",username:"",affairs:"",ps:"",purchases:"",sales:"",harmony:"",products:"",rooms:"",expenses:"",store:"",Saffairs:"",idform:"",password:"",users:[],addedit:"إضافة"}},created(){this.id=this.getCookie("user_id"),this.Saffairs=this.getCookie("user_affairs"),this.getCookie("user_id")||this.$router.push("/"),this.getusers()},methods:{getCookie(e){return d.A.get(e)},async getusers(){try{const e=await P.A.get("http://localhost/cafe-ps8/api/affairs.php");this.users=e.data.users}catch(e){console.error("Login failed:",e)}},async DeleteUser(e){try{const t=await P.A.delete("http://localhost/cafe-ps8/api/affairs.php",{data:{id:e.id}});alert(t.data.message),this.getusers()}catch(t){console.error("Error deleting user:",t.message)}},EditUser(e){this.idform=e.id,this.username=e.username,this.addedit="تعديل"},async AddEditUser(){if("إضافة"==this.addedit)try{const e=await P.A.post("http://localhost/cafe-ps8/api/affairs.php",{username:this.username,password:this.password,affairs:this.affairs,ps:this.ps,purchases:this.purchases,sales:this.sales,harmony:this.harmony,products:this.products,rooms:this.rooms,expenses:this.expenses,store:this.store});alert(e.data.message),this.getusers()}catch(e){console.error("Error deleting user:",e.message)}else try{const e=await P.A.put("http://localhost/cafe-ps8/api/affairs.php",{id:this.idform,username:this.username,password:this.password,affairs:this.affairs,ps:this.ps,purchases:this.purchases,sales:this.sales,harmony:this.harmony,products:this.products,rooms:this.rooms,expenses:this.expenses,store:this.store});alert(e.data.message),this.getusers(),this.addedit="إضافة"}catch(e){console.error("Error deleting user:",e.message)}this.username="",this.password="",this.affairs="",this.ps="",this.purchases="",this.sales="",this.harmony="",this.products="",this.rooms="",this.expenses="",this.store=""}}};const Ut=(0,p.A)(Tt,[["render",At]]);var xt=Ut;const It={key:0,id:"PurchasesBody"},Nt=(0,s.Lk)("option",{disabled:"",value:""},"مطعم \\ كافيه",-1),Ft=(0,s.Lk)("option",{value:"1"},"مطعم",-1),Dt=(0,s.Lk)("option",{value:"0"},"كافيه",-1),Vt=[Nt,Ft,Dt],$t=(0,s.Lk)("option",{disabled:"",value:""},"اختر القسم",-1),qt=["value"],Rt={key:0},Ot=(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"م"),(0,s.Lk)("th",null,"اسم"),(0,s.Lk)("th",null,"عدد"),(0,s.Lk)("th",null,"زيادة"),(0,s.Lk)("th",null,"نقص")],-1),Kt=["onClick"],Qt=["onClick"],Wt={key:1,class:"no"},Gt=(0,s.Lk)("div",null,"عفواً ,غير مسموح لك بالتعديل فى المشتريات",-1),Ht=[Gt];function Jt(e,t,a,r,l,n){return 1==l.ShowPurchases?((0,s.uX)(),(0,s.CE)("div",It,[(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.SelectKindModel=e)},Vt,512),[[o.u1,l.SelectKindModel]]),1==l.SectorShow?(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{key:0,"onUpdate:modelValue":t[1]||(t[1]=e=>l.SelectSector=e)},[$t,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.Sectors,((e,t)=>((0,s.uX)(),(0,s.CE)("option",{key:t,value:e.id},(0,i.v_)(e.name),9,qt)))),128))],512)),[[o.u1,l.SelectSector]]):(0,s.Q3)("",!0),(0,s.Lk)("div",null,[1==l.MaterialShow?((0,s.uX)(),(0,s.CE)("table",Rt,[Ot,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.Materials,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[(0,s.Lk)("td",null,(0,i.v_)(t+1),1),(0,s.Lk)("td",null,(0,i.v_)(e.name),1),(0,s.Lk)("td",null,(0,i.v_)(e.num_purchases),1),(0,s.Lk)("td",{class:"point",onClick:t=>n.MaterialIncrement(e)},"+",8,Kt),(0,s.Lk)("td",{class:"point",onClick:t=>n.MaterialDecreasement(e)},"-",8,Qt)])))),128))])):(0,s.Q3)("",!0)])])):((0,s.uX)(),(0,s.CE)("div",Wt,Ht))}var Bt={data(){return{id:"",ShowPurchases:"",SelectKindModel:"",Sectors:[],SelectSector:"",SectorShow:"",Materials:[],MaterialShow:""}},watch:{SelectKindModel:function(){this.SelectSector="",this.getSectors()},SelectSector:function(){this.getMaterials()}},created(){this.id=this.getCookie("user_id"),this.ShowPurchases=this.getCookie("user_purchases"),this.getCookie("user_id")||this.$router.push("/")},methods:{getCookie(e){return d.A.get(e)},async getSectors(){try{const e=await P.A.post("http://localhost/cafe-ps8/api/purchases.php",{GetType:"Sectors",GetSectors:this.SelectKindModel});this.Sectors=e.data.Sectors}catch(e){console.error("error:",e)}""==this.SelectKindModel?this.SectorShow=0:this.SectorShow=1},async getMaterials(){try{const e=await P.A.post("http://localhost/cafe-ps8/api/purchases.php",{GetType:"Materials",GetSector:this.SelectSector});this.Materials=e.data.Materials}catch(e){console.error("error:",e)}""==this.SelectSector?this.MaterialShow=0:this.MaterialShow=1},async MaterialIncrement(e){try{const t=await P.A.put("http://localhost/cafe-ps8/api/purchases.php",{id_user:this.id,Type:1,id:e.id,num:e.num_purchases});console.log(t.data.message)}catch(t){console.error("error:",t)}this.getMaterials()},async MaterialDecreasement(e){try{const t=await P.A.put("http://localhost/cafe-ps8/api/purchases.php",{id_user:this.id,Type:0,id:e.id,num:e.num_purchases});console.log(t.data.message)}catch(t){console.error("error:",t)}this.getMaterials()}}};const jt=(0,p.A)(Bt,[["render",Jt]]);var zt=jt,Yt=a.p+"img/logo.3be6b4cb.png";const Zt=e=>((0,s.Qi)("data-v-48d8fce6"),e=e(),(0,s.jt)(),e),ea={key:0,id:"SalesBody",ref:"sales"},ta=Zt((()=>(0,s.Lk)("option",{disabled:"",value:""},"اختر المستخدم",-1))),aa=["value"],oa=Zt((()=>(0,s.Lk)("button",{type:"submit"},"عرض البيانات",-1))),sa={key:0,id:"UserData",dir:"rtl"},ia={ref:"All"},ra=Zt((()=>(0,s.Lk)("img",{src:Yt},null,-1))),la=[ra],na=Zt((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",{colspan:"4"},"التوالف")],-1))),ua={colspan:"4"},da=Zt((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",{colspan:"4"},"المصاريف")],-1))),ca={colspan:"2"},pa={colspan:"2"},ha=Zt((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",{colspan:"4"},"المخزن")],-1))),ka={colspan:"2"},ma={colspan:"2"},va=Zt((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",{colspan:"4"},"المشتريات")],-1))),La={colspan:"2"},Sa={colspan:"2"},ya=Zt((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",{colspan:"4"},"المبيعات")],-1))),fa={colspan:"2"},Pa={colspan:"2"},ba=Zt((()=>(0,s.Lk)("td",{colspan:"2"},"اجمالى",-1))),Ca={colspan:"2"},ga=Zt((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",{colspan:"4"},"المحمودية - ش البوستة")],-1))),Ea=Zt((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",{colspan:"2"},"0100000000"),(0,s.Lk)("td",{colspan:"2"},"0100000000")],-1))),_a={key:1,id:"OrdersData",dir:"rtl"},Ma=["onClick"],wa=Zt((()=>(0,s.Lk)("td",{colspan:"4"},[(0,s.Lk)("img",{src:Yt})],-1))),Xa=[wa],Aa={colspan:"4"},Ta={colspan:"4"},Ua=Zt((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",{colspan:"1"},"الاسم"),(0,s.Lk)("td",{colspan:"1"},"الكمية"),(0,s.Lk)("td",{colspan:"1"},"السعر"),(0,s.Lk)("td",{colspan:"1"},"الكل")],-1))),xa={colspan:"1"},Ia={colspan:"1"},Na={colspan:"1"},Fa={colspan:"1"},Da=Zt((()=>(0,s.Lk)("td",{colspan:"2"},"اجمالى",-1))),Va={colspan:"2"},$a=Zt((()=>(0,s.Lk)("option",{disabled:"",value:""},"اختر المادة الخام",-1))),qa=["value"],Ra=Zt((()=>(0,s.Lk)("button",{type:"submit"},"عرض البيانات",-1))),Oa={key:2,id:"MaterialsData",dir:"rtl"},Ka=Zt((()=>(0,s.Lk)("td",{colspan:"2"},"المخزن",-1))),Qa={colspan:"2"},Wa=Zt((()=>(0,s.Lk)("td",{colspan:"2"},"المشتريات",-1))),Ga={colspan:"2"},Ha=Zt((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",{colspan:"1"},"الاسم"),(0,s.Lk)("td",{colspan:"1"},"العدد"),(0,s.Lk)("td",{colspan:"1"},"المبيعات"),(0,s.Lk)("td",{colspan:"1"},"الكل")],-1))),Ja={colspan:"1"},Ba={colspan:"1"},ja={colspan:"1"},za={colspan:"1"},Ya=Zt((()=>(0,s.Lk)("td",{colspan:"2"},"اجمالى",-1))),Za={colspan:"2"},eo={key:1,class:"no"},to=Zt((()=>(0,s.Lk)("div",null,"عفواً ,غير مسموح لك بالتعديل فى الصالات",-1))),ao=[to];function oo(e,t,a,r,l,n){return 1==e.SalesShow?((0,s.uX)(),(0,s.CE)("div",ea,[(0,s.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>n.SelectUser&&n.SelectUser(...e)),["prevent"]))},[(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[0]||(t[0]=e=>l.SelectedUser=e)},[ta,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.Users,((e,t)=>((0,s.uX)(),(0,s.CE)("option",{key:t,value:e.id},(0,i.v_)(e.username),9,aa)))),128))],512),[[o.u1,l.SelectedUser]]),(0,s.bo)((0,s.Lk)("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=e=>l.SelectedDate=e)},null,512),[[o.Jo,l.SelectedDate]]),oa],32),1==l.HarmoniesShow?((0,s.uX)(),(0,s.CE)("div",sa,[(0,s.Lk)("table",ia,[(0,s.Lk)("tr",null,[(0,s.Lk)("td",{onClick:t[3]||(t[3]=e=>n.PrintAll()),colspan:"4"},la)]),na,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.Harmonies,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[(0,s.Lk)("td",ua,(0,i.v_)(e.details),1)])))),128)),da,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.Expenses,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[(0,s.Lk)("td",ca,(0,i.v_)(e.material),1),(0,s.Lk)("td",pa,(0,i.v_)(e.price),1)])))),128)),ha,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.Store,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[(0,s.Lk)("td",ka,(0,i.v_)(e),1),(0,s.Lk)("td",ma,(0,i.v_)(t),1)])))),128)),va,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.Purchases,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[(0,s.Lk)("td",La,(0,i.v_)(e),1),(0,s.Lk)("td",Sa,(0,i.v_)(t),1)])))),128)),ya,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.Sales,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[(0,s.Lk)("td",fa,(0,i.v_)(e.name),1),(0,s.Lk)("td",Pa,(0,i.v_)(e.sum),1)])))),128)),(0,s.Lk)("tr",null,[ba,(0,s.Lk)("td",Ca,(0,i.v_)(n.CalcSum(l.Sales)),1)]),ga,Ea],512)])):(0,s.Q3)("",!0),1==l.HarmoniesShow?((0,s.uX)(),(0,s.CE)("div",_a,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.Orders,((e,t)=>((0,s.uX)(),(0,s.CE)("table",{key:t,ref_for:!0,ref:"printsection"+t},[(0,s.Lk)("tr",{onClick:e=>n.Print(t)},Xa,8,Ma),(0,s.Lk)("tr",null,[(0,s.Lk)("td",Aa,(0,i.v_)(e.order_time),1)]),(0,s.Lk)("tr",null,[(0,s.Lk)("td",Ta,(0,i.v_)(l.Places[e.place]),1)]),Ua,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.items,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[(0,s.Lk)("td",xa,(0,i.v_)(e.name),1),(0,s.Lk)("td",Ia,(0,i.v_)(e.quantity),1),(0,s.Lk)("td",Na,(0,i.v_)(e.price),1),(0,s.Lk)("td",Fa,(0,i.v_)(e.price*e.quantity),1)])))),128)),(0,s.Lk)("tr",null,[Da,(0,s.Lk)("td",Va,(0,i.v_)(n.CalcTotal(e.items)),1)])])))),128))])):(0,s.Q3)("",!0),(0,s.Lk)("form",{onSubmit:t[5]||(t[5]=(0,o.D$)(((...e)=>n.SelectMaterial&&n.SelectMaterial(...e)),["prevent"]))},[(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[4]||(t[4]=e=>l.SelectedMaterial=e)},[$a,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.Materials,((e,t)=>((0,s.uX)(),(0,s.CE)("option",{key:t,value:e.id},(0,i.v_)(e.name),9,qa)))),128))],512),[[o.u1,l.SelectedMaterial]]),Ra],32),1==l.MaterialsShow?((0,s.uX)(),(0,s.CE)("div",Oa,[(0,s.Lk)("table",null,[(0,s.Lk)("tr",null,[Ka,(0,s.Lk)("td",Qa,(0,i.v_)(l.FilteredMaterials["num_store"]),1)]),(0,s.Lk)("tr",null,[Wa,(0,s.Lk)("td",Ga,(0,i.v_)(l.FilteredMaterials["num_purchases"]),1)]),Ha,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.SalesM,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[(0,s.Lk)("td",Ja,(0,i.v_)(e.name),1),(0,s.Lk)("td",Ba,(0,i.v_)(e.num),1),(0,s.Lk)("td",ja,(0,i.v_)(e.count),1),(0,s.Lk)("td",za,(0,i.v_)(e.num*e.count),1)])))),128)),(0,s.Lk)("tr",null,[Ya,(0,s.Lk)("td",Za,(0,i.v_)(n.CalcSum2(l.SalesM)),1)])])])):(0,s.Q3)("",!0)],512)):((0,s.uX)(),(0,s.CE)("div",eo,ao))}var so={data(){return{SalessShow:"",id:"",username:"",Users:[],SelectedUser:"",SelectedDate:"",Harmonies:[],HarmoniesShow:0,MaterialsShow:0,Expenses:[],Store:{},Purchases:{},Sales:{},Orders:[],Places:["صالة 1","صالة 2","صالة 3","صالة 4","صالة 5","صالة 6","صالة 7","صالة 8","PS1","PS2","PS3","PS4","PS5","PS6","PS7","PS8","Delivery","TakeAway"],Materials:[],FilteredMaterials:[],SelectedMaterial:"",SalesM:[]}},created(){this.id=this.getCookie("user_id"),this.username=this.getCookie("user_name"),this.SalesShow=this.getCookie("user_sales"),this.getCookie("user_id")||this.$router.push("/"),this.GetUsers()},methods:{getCookie(e){return d.A.get(e)},async GetUsers(){try{const e=await P.A.get("http://localhost/cafe-ps8/api/Sales.php");this.Users=e.data.Users,this.Materials=e.data.Materials}catch(e){console.error("fail:",e)}},async SelectUser(){try{const e=await P.A.post("http://localhost/cafe-ps8/api/Sales.php",{Type:"DataPerDay",SelectedUser:this.SelectedUser,SelectedDate:this.SelectedDate});this.Harmonies=e.data.Harmonies,this.Expenses=e.data.Expenses,this.Store=e.data.Store,this.Purchases=e.data.Purchases,this.Sales=e.data.Sales,this.Orders=e.data.Orders,this.HarmoniesShow=1,this.SelectedUser="",this.SelectedDate=""}catch(e){console.error("fail:",e)}},async SelectMaterial(){try{const e=await P.A.post("http://localhost/cafe-ps8/api/Sales.php",{Type:"Materials",SelectedMaterial:this.SelectedMaterial});this.FilteredMaterials=this.Materials.filter((e=>e.id==this.SelectedMaterial))[0],this.SalesM=e.data.SalesM,this.MaterialsShow=1,this.SelectedMaterial=""}catch(e){console.error("fail:",e)}},CalcTotal(e){return e.reduce(((e,t)=>e+t.price*t.quantity),0)},CalcSum(e){return e.reduce(((e,t)=>e+t.sum),0)},CalcSum2(e){return e.reduce(((e,t)=>e+t.num*t.count),0)},async Print(e){const t=this.$refs["printsection"+e][0].outerHTML,a=this.$refs.sales.innerHTML;this.$refs.sales.innerHTML=t,await this.$nextTick(),window.print(),this.$refs.sales.innerHTML=a,await window.location.reload()},async PrintAll(){const e=this.$refs.All.outerHTML,t=this.$refs.sales.innerHTML;this.$refs.sales.innerHTML=e,await this.$nextTick(),window.print(),this.$refs.sales.innerHTML=t,await window.location.reload()}}};const io=(0,p.A)(so,[["render",oo],["__scopeId","data-v-48d8fce6"]]);var ro=io;const lo={key:0,id:"ProductsBody"},no={class:"field"},uo=(0,s.Lk)("option",{disabled:"",value:""},"مطعم / كافيه",-1),co=(0,s.Lk)("option",{value:"1"},"مطعم",-1),po=(0,s.Lk)("option",{value:"0"},"كافيه",-1),ho=[uo,co,po],ko={key:0,class:"field"},mo=(0,s.Lk)("option",{disabled:"",value:""},"أقسام",-1),vo=["value"],Lo=(0,s.Lk)("button",{type:"submit"},"إضافة",-1),So=(0,s.Lk)("option",{disabled:"",value:""},"أقسام",-1),yo=["value"],fo=(0,s.Lk)("button",{type:"submit"},"حذف",-1),Po={key:1,class:"field"},bo=(0,s.Lk)("h1",null,"المنتجات",-1),Co={dir:"rtl",id:"ProductsTable"},go=(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"م"),(0,s.Lk)("th",null,"الاسم"),(0,s.Lk)("th",null,"السعر"),(0,s.Lk)("th",null,"عدد المبيعات"),(0,s.Lk)("th",null,"له مكونات"),(0,s.Lk)("th",null,"تعديل"),(0,s.Lk)("th",null,"حذف")],-1),Eo={key:0},_o={key:1},Mo=["onClick"],wo=["onClick"],Xo=(0,s.Lk)("option",{disabled:"",value:""},"له مكونات ؟",-1),Ao=(0,s.Lk)("option",{value:"1"},"نعم",-1),To=(0,s.Lk)("option",{value:"0"},"لا",-1),Uo=[Xo,Ao,To],xo={type:"submit"},Io={key:2,class:"field"},No=(0,s.Lk)("h1",null,"المواد الخام",-1),Fo={dir:"rtl",id:"MaterialsTable"},Do=(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"م"),(0,s.Lk)("th",null,"الاسم"),(0,s.Lk)("th",null,"السعر"),(0,s.Lk)("th",null,"عدد بالمخزن"),(0,s.Lk)("th",null,"عدد مشتريات"),(0,s.Lk)("th",null,"تعديل"),(0,s.Lk)("th",null,"حذف")],-1),Vo=["onClick"],$o=["onClick"],qo={type:"submit"},Ro=(0,s.Lk)("hr",null,null,-1),Oo={key:3,class:"field"},Ko=(0,s.Lk)("option",{disabled:"",value:""},"حدد مكونات لمنتج",-1),Qo=["value"],Wo=(0,s.Lk)("option",{disabled:"",value:""},"اختر مواد خام",-1),Go=["value"],Ho=(0,s.Lk)("button",{type:"submit"},"إضافة",-1),Jo={key:4,class:"field"},Bo={dir:"rtl",id:"PMTable"},jo=(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"م"),(0,s.Lk)("th",null,"الكمية"),(0,s.Lk)("th",null,"المادة"),(0,s.Lk)("th",null,"حذف")],-1),zo=["onClick"],Yo={key:1,class:"no"},Zo=(0,s.Lk)("div",null,"عفواً ,غير مسموح لك بالتعديل فى المنتجات",-1),es=[Zo];function ts(e,t,a,r,l,n){return 1==l.ShowProductsPage?((0,s.uX)(),(0,s.CE)("div",lo,[(0,s.Lk)("div",no,[(0,s.bo)((0,s.Lk)("select",{onChange:t[0]||(t[0]=(...e)=>n.GetSectors&&n.GetSectors(...e)),required:"","onUpdate:modelValue":t[1]||(t[1]=e=>l.SelectCafeRest=e)},ho,544),[[o.u1,l.SelectCafeRest]])]),l.SectorShow?((0,s.uX)(),(0,s.CE)("div",ko,[(0,s.bo)((0,s.Lk)("select",{onChange:t[2]||(t[2]=(...e)=>n.GetProducts&&n.GetProducts(...e)),required:"","onUpdate:modelValue":t[3]||(t[3]=e=>l.Sector=e)},[mo,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.Sectors,((e,t)=>((0,s.uX)(),(0,s.CE)("option",{key:t,value:e.id},(0,i.v_)(e.name),9,vo)))),128))],544),[[o.u1,l.Sector]]),(0,s.Lk)("form",{onSubmit:t[5]||(t[5]=(0,o.D$)(((...e)=>n.AddSector&&n.AddSector(...e)),["prevent"]))},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.NewSector=e),type:"text",placeholder:"أضف قسم جديد",required:""},null,512),[[o.Jo,l.NewSector]]),Lo],32),(0,s.Lk)("form",{onSubmit:t[7]||(t[7]=(0,o.D$)(((...e)=>n.DeleteSector&&n.DeleteSector(...e)),["prevent"]))},[(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[6]||(t[6]=e=>l.OldSector=e)},[So,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.Sectors,((e,t)=>((0,s.uX)(),(0,s.CE)("option",{key:t,value:e.id},(0,i.v_)(e.name),9,yo)))),128))],512),[[o.u1,l.OldSector]]),fo],32)])):(0,s.Q3)("",!0),1==l.ProductsShow?((0,s.uX)(),(0,s.CE)("div",Po,[bo,(0,s.Lk)("div",null,[(0,s.Lk)("table",Co,[go,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.Products,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[(0,s.Lk)("td",null,(0,i.v_)(t+1),1),(0,s.Lk)("td",null,(0,i.v_)(e.name),1),(0,s.Lk)("td",null,(0,i.v_)(e.price),1),(0,s.Lk)("td",null,(0,i.v_)(e.num_sales),1),1==e.comp?((0,s.uX)(),(0,s.CE)("td",Eo,"له مكونات")):((0,s.uX)(),(0,s.CE)("td",_o,"ليس له مكونات")),(0,s.Lk)("td",{onClick:t=>n.EditProduct(e)},"تعديل",8,Mo),(0,s.Lk)("td",{onClick:t=>n.DeleteProduct(e)},"حذف",8,wo)])))),128))])]),(0,s.Lk)("form",{onSubmit:t[11]||(t[11]=(0,o.D$)(((...e)=>n.AddEditProduct&&n.AddEditProduct(...e)),["prevent"]))},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.ProductName=e),type:"text",placeholder:"الإسم",required:""},null,512),[[o.Jo,l.ProductName]]),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.ProductPrice=e),type:"number",placeholder:"السعر",required:""},null,512),[[o.Jo,l.ProductPrice]]),(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[10]||(t[10]=e=>l.ProductComp=e)},Uo,512),[[o.u1,l.ProductComp]]),(0,s.Lk)("button",xo,(0,i.v_)(l.ProductAddEdit),1)],32)])):(0,s.Q3)("",!0),1==l.MaterialsShow?((0,s.uX)(),(0,s.CE)("div",Io,[No,(0,s.Lk)("div",null,[(0,s.Lk)("table",Fo,[Do,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.Materials,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[(0,s.Lk)("td",null,(0,i.v_)(t+1),1),(0,s.Lk)("td",null,(0,i.v_)(e.name),1),(0,s.Lk)("td",null,(0,i.v_)(e.price),1),(0,s.Lk)("td",null,(0,i.v_)(e.num_store),1),(0,s.Lk)("td",null,(0,i.v_)(e.num_purchases),1),(0,s.Lk)("td",{onClick:t=>n.EditMaterial(e)},"تعديل",8,Vo),(0,s.Lk)("td",{onClick:t=>n.DeleteMaterial(e)},"حذف",8,$o)])))),128))])]),(0,s.Lk)("form",{onSubmit:t[14]||(t[14]=(0,o.D$)(((...e)=>n.AddEditMaterial&&n.AddEditMaterial(...e)),["prevent"]))},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>l.MaterialName=e),type:"text",placeholder:"الإسم",required:""},null,512),[[o.Jo,l.MaterialName]]),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>l.MaterialPrice=e),type:"number",placeholder:"السعر",required:""},null,512),[[o.Jo,l.MaterialPrice]]),(0,s.Lk)("button",qo,(0,i.v_)(l.MaterialAddEdit),1)],32)])):(0,s.Q3)("",!0),Ro,1==l.ProductsShow?((0,s.uX)(),(0,s.CE)("div",Oo,[(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[15]||(t[15]=e=>l.ProductsMaterials=e)},[Ko,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.Products,((e,t)=>((0,s.uX)(),(0,s.CE)("option",{key:t,value:e.id},(0,i.v_)(e.name),9,Qo)))),128))],512),[[o.u1,l.ProductsMaterials]]),(0,s.Lk)("form",{onSubmit:t[18]||(t[18]=(0,o.D$)(((...e)=>n.AddPM&&n.AddPM(...e)),["prevent"]))},[(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[16]||(t[16]=e=>l.PMid=e)},[Wo,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.AllMaterials,((e,t)=>((0,s.uX)(),(0,s.CE)("option",{key:t,value:e.id},(0,i.v_)(e.name),9,Go)))),128))],512),[[o.u1,l.PMid]]),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[17]||(t[17]=e=>l.PMnum=e),type:"text",placeholder:"الكمية",required:""},null,512),[[o.Jo,l.PMnum]]),Ho],32)])):(0,s.Q3)("",!0),1==l.ProductsShow?((0,s.uX)(),(0,s.CE)("div",Jo,[(0,s.Lk)("div",null,[(0,s.Lk)("table",Bo,[jo,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.ProductsMaterialsArr,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[(0,s.Lk)("td",null,(0,i.v_)(t+1),1),(0,s.Lk)("td",null,(0,i.v_)(e.num),1),(0,s.Lk)("td",null,(0,i.v_)(e.name),1),(0,s.Lk)("td",{onClick:t=>n.DeletePM(e)},"حذف",8,zo)])))),128))])])])):(0,s.Q3)("",!0)])):((0,s.uX)(),(0,s.CE)("div",Yo,es))}var as={data(){return{id:"",ShowProductsPage:"",SelectCafeRest:"",SectorShow:0,Sector:"",Sectors:[],NewSector:"",OldSector:"",Products:[],ProductsShow:0,ProductId:"",ProductName:"",ProductPrice:"",ProductComp:"",ProductAddEdit:"إضافة",Materials:[],AllMaterials:[],MaterialsShow:0,MaterialId:"",MaterialName:"",MaterialPrice:"",MaterialAddEdit:"إضافة",ProductsMaterials:"",MaterialsProducts:"",ProductsMaterialsArr:[],PMid:"",PMnum:""}},watch:{SelectCafeRest:function(e){""==e&&(this.SectorShow=0,this.Sector="",this.Sectors=[],this.Products=[],this.ProductsShow=0,this.Materials=[],this.MaterialsShow=0)},Sector:function(e){""==e&&(this.Products=[],this.ProductsShow=0,this.Materials=[],this.MaterialsShow=0)},ProductsMaterials:function(e){""!=e&&this.GetProductsMaterials()}},created(){this.id=this.getCookie("user_id"),this.ShowProductsPage=this.getCookie("user_products"),this.getCookie("user_id")||this.$router.push("/")},methods:{getCookie(e){return d.A.get(e)},async GetSectors(){if(""!=this.SelectCafeRest)try{const e=await P.A.post("http://localhost/cafe-ps8/api/products.php",{Type:"Sectors",SelectCafeRest:this.SelectCafeRest});this.Sectors=e.data.Sectors,this.AllMaterials=e.data.AllMaterials,this.SectorShow=1,this.Sector=""}catch(e){console.error("fail:",e)}this.Products=[],this.ProductsShow=0,this.Materials=[],this.MaterialsShow=0},async AddSector(){try{const e=await P.A.post("http://localhost/cafe-ps8/api/products.php",{Type:"AddSector",SelectCafeRest:this.SelectCafeRest,NewSector:this.NewSector});alert(e.data.message)}catch(e){console.error("Error deleting user:",e.message)}this.NewSector="",this.GetSectors()},async DeleteSector(){try{const e=await P.A.delete("http://localhost/cafe-ps8/api/products.php",{data:{Type:"Sector",OldSector:this.OldSector}});alert(e.data.message)}catch(e){console.error("Error deleting user:",e.message)}this.OldSector="",this.Sector="",this.GetSectors()},async GetProducts(){if(""!=this.Sector)try{const e=await P.A.post("http://localhost/cafe-ps8/api/products.php",{Type:"Products",Sector:this.Sector});this.Products=e.data.Products,this.ProductsShow=1,this.Materials=e.data.Materials,this.MaterialsShow=1}catch(e){console.error("fail:",e)}},EditProduct(e){this.ProductId=e.id,this.ProductName=e.name,this.ProductPrice=e.price,this.ProductComp=e.comp,this.ProductAddEdit="تعديل"},async AddEditProduct(){if("إضافة"==this.ProductAddEdit)try{const e=await P.A.post("http://localhost/cafe-ps8/api/products.php",{Type:"AddProduct",ProductName:this.ProductName,ProductPrice:Math.abs(this.ProductPrice),ProductComp:this.ProductComp,ProductSector:this.Sector});alert(e.data.message)}catch(e){console.error("Error deleting user:",e.message)}else try{const e=await P.A.put("http://localhost/cafe-ps8/api/products.php",{Type:"product",ProductId:this.ProductId,ProductName:this.ProductName,ProductPrice:Math.abs(this.ProductPrice),ProductComp:this.ProductComp});alert(e.data.message)}catch(e){console.error("Error deleting user:",e.message)}this.ProductName="",this.ProductPrice="",this.ProductComp="",this.ProductAddEdit="إضافة",this.GetProducts()},async DeleteProduct(e){try{const t=await P.A.delete("http://localhost/cafe-ps8/api/products.php",{data:{Product:e.id,Type:"Product"}});alert(t.data.message)}catch(t){console.error("Error deleting user:",t.message)}this.GetProducts()},async AddEditMaterial(){if("إضافة"==this.MaterialAddEdit)try{const e=await P.A.post("http://localhost/cafe-ps8/api/products.php",{Type:"AddMaterial",MaterialName:this.MaterialName,MaterialPrice:Math.abs(this.MaterialPrice),MaterialSector:this.Sector});alert(e.data.message)}catch(e){console.error("Error deleting user:",e.message)}else try{const e=await P.A.put("http://localhost/cafe-ps8/api/products.php",{Type:"Material",MaterialId:this.MaterialId,MaterialName:this.MaterialName,MaterialPrice:Math.abs(this.MaterialPrice)});alert(e.data.message)}catch(e){console.error("Error deleting user:",e.message)}this.MaterialName="",this.MaterialPrice="",this.GetProducts(),this.GetSectors(),this.MaterialAddEdit="إضافة"},EditMaterial(e){this.MaterialId=e.id,this.MaterialName=e.name,this.MaterialPrice=e.price,this.MaterialAddEdit="تعديل"},async DeleteMaterial(e){try{const t=await P.A.delete("http://localhost/cafe-ps8/api/products.php",{data:{Material:e.id,Type:"Material"}});alert(t.data.message)}catch(t){console.error("Error deleting user:",t.message)}this.GetProducts()},async GetProductsMaterials(){if(""!=this.ProductsMaterials)try{const e=await P.A.post("http://localhost/cafe-ps8/api/products.php",{Type:"ProductsMaterials",ProductsMaterials:this.ProductsMaterials});this.ProductsMaterialsArr=e.data.ProductsMaterialsArr}catch(e){console.error("fail:",e)}},async AddPM(){try{const e=await P.A.post("http://localhost/cafe-ps8/api/products.php",{Type:"AddPM",PMid:this.PMid,PMnum:Math.abs(this.PMnum),PMproduct:this.ProductsMaterials});alert(e.data.message)}catch(e){console.error("Error deleting user:",e.message)}this.PMid="",this.PMnum="",this.GetProductsMaterials()},async DeletePM(e){try{const t=await P.A.delete("http://localhost/cafe-ps8/api/products.php",{data:{ProductsMaterials:e.id,Type:"ProductsMaterials"}});alert(t.data.message)}catch(t){console.error("Error deleting user:",t.message)}this.GetProductsMaterials()}}};const os=(0,p.A)(as,[["render",ts]]);var ss=os;const is=e=>((0,s.Qi)("data-v-52fcee0b"),e=e(),(0,s.jt)(),e),rs={key:0,id:"RoomsBody",ref:"room"},ls=(0,s.Fv)('<option disabled value="" data-v-52fcee0b>اختار المكان</option><option value="0" data-v-52fcee0b>صالة 1</option><option value="1" data-v-52fcee0b>صالة 2</option><option value="2" data-v-52fcee0b>صالة 3</option><option value="3" data-v-52fcee0b>صالة 4</option><option value="4" data-v-52fcee0b>صالة 5</option><option value="5" data-v-52fcee0b>صالة 6</option><option value="6" data-v-52fcee0b>صالة 7</option><option value="7" data-v-52fcee0b>صالة 8</option><option value="8" data-v-52fcee0b>بلايستيشن 1</option><option value="9" data-v-52fcee0b>بلايستيشن 2</option><option value="10" data-v-52fcee0b>بلايستيشن 3</option><option value="11" data-v-52fcee0b>بلايستيشن 4</option><option value="12" data-v-52fcee0b>بلايستيشن 5</option><option value="13" data-v-52fcee0b>بلايستيشن 6</option><option value="14" data-v-52fcee0b>بلايستيشن 7</option><option value="15" data-v-52fcee0b>بلايستيشن 8</option><option value="16" data-v-52fcee0b>دليفرى</option><option value="17" data-v-52fcee0b>تيك أواى</option>',19),ns=[ls],us=is((()=>(0,s.Lk)("option",{disabled:"",value:""},"اختر الاوردر",-1))),ds=["value"],cs=is((()=>(0,s.Lk)("button",{type:"submit"},"إضافة",-1))),ps={id:"Places",dir:"rtl"},hs={colspan:"5"},ks=is((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",null,"وصف"),(0,s.Lk)("td",null,"عدد"),(0,s.Lk)("td",null,"سعر"),(0,s.Lk)("td",null,"اجمالى"),(0,s.Lk)("td",null,"حذف")],-1))),ms=["onClick"],vs=is((()=>(0,s.Lk)("td",{colspan:"3"},"اجمالى",-1))),Ls={colspan:"2"},Ss={id:"PSs"},ys={key:0,style:{"text-align":"center"}},fs={key:1},Ps={key:2},bs={key:3},Cs={key:4},gs=is((()=>(0,s.Lk)("option",{disabled:"",value:""},"طريقة التشغيل",-1))),Es={key:0,value:"normal"},_s={key:1,value:"multi"},Ms={key:2,value:"plus"},ws={key:3,value:"netflix"},Xs=["onClick"],As=["onClick"],Ts=(0,s.Fv)('<option disabled value="" data-v-52fcee0b>اختار المكان</option><option value="0" data-v-52fcee0b>صالة 1</option><option value="1" data-v-52fcee0b>صالة 2</option><option value="2" data-v-52fcee0b>صالة 3</option><option value="3" data-v-52fcee0b>صالة 4</option><option value="4" data-v-52fcee0b>صالة 5</option><option value="5" data-v-52fcee0b>صالة 6</option><option value="6" data-v-52fcee0b>صالة 7</option><option value="7" data-v-52fcee0b>صالة 8</option><option value="8" data-v-52fcee0b>بلايستيشن 1</option><option value="9" data-v-52fcee0b>بلايستيشن 2</option><option value="10" data-v-52fcee0b>بلايستيشن 3</option><option value="11" data-v-52fcee0b>بلايستيشن 4</option><option value="12" data-v-52fcee0b>بلايستيشن 5</option><option value="13" data-v-52fcee0b>بلايستيشن 6</option><option value="14" data-v-52fcee0b>بلايستيشن 7</option><option value="15" data-v-52fcee0b>بلايستيشن 8</option><option value="16" data-v-52fcee0b>دليفرى</option><option value="17" data-v-52fcee0b>تيك أواى</option>',19),Us=[Ts],xs=(0,s.Fv)('<option disabled value="" data-v-52fcee0b>اختار المكان</option><option value="0" data-v-52fcee0b>صالة 1</option><option value="1" data-v-52fcee0b>صالة 2</option><option value="2" data-v-52fcee0b>صالة 3</option><option value="3" data-v-52fcee0b>صالة 4</option><option value="4" data-v-52fcee0b>صالة 5</option><option value="5" data-v-52fcee0b>صالة 6</option><option value="6" data-v-52fcee0b>صالة 7</option><option value="7" data-v-52fcee0b>صالة 8</option><option value="8" data-v-52fcee0b>بلايستيشن 1</option><option value="9" data-v-52fcee0b>بلايستيشن 2</option><option value="10" data-v-52fcee0b>بلايستيشن 3</option><option value="11" data-v-52fcee0b>بلايستيشن 4</option><option value="12" data-v-52fcee0b>بلايستيشن 5</option><option value="13" data-v-52fcee0b>بلايستيشن 6</option><option value="14" data-v-52fcee0b>بلايستيشن 7</option><option value="15" data-v-52fcee0b>بلايستيشن 8</option><option value="16" data-v-52fcee0b>دليفرى</option><option value="17" data-v-52fcee0b>تيك أواى</option>',19),Is=[xs],Ns=is((()=>(0,s.Lk)("button",{type:"submit"},"تغيير المكان",-1))),Fs={id:"Orders",dir:"rtl"},Ds={colspan:"4"},Vs=["onClick"],$s=is((()=>(0,s.Lk)("img",{src:Yt},null,-1))),qs=[$s],Rs={colspan:"4"},Os={colspan:"4"},Ks=is((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",null,"وصف"),(0,s.Lk)("td",null,"عدد"),(0,s.Lk)("td",null,"سعر"),(0,s.Lk)("td",null,"اجمالى")],-1))),Qs=is((()=>(0,s.Lk)("td",{colspan:"2"},"اجمالى",-1))),Ws={colspan:"2"},Gs=is((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",{colspan:"4"},"المحمودية - ش البوستة")],-1))),Hs=is((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",{colspan:"2"},"0100000000"),(0,s.Lk)("td",{colspan:"2"},"0100000000")],-1))),Js={key:1,class:"no"},Bs=is((()=>(0,s.Lk)("div",null,"عفواً ,غير مسموح لك بالتعديل فى الصالات",-1))),js=[Bs];function zs(e,t,a,r,l,n){return 1==l.RoomsShow?((0,s.uX)(),(0,s.CE)("div",rs,[(0,s.Lk)("form",{onSubmit:t[3]||(t[3]=(0,o.D$)(((...e)=>n.AddItem&&n.AddItem(...e)),["prevent"]))},[(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[0]||(t[0]=e=>l.NewPlace=e)},ns,512),[[o.u1,l.NewPlace]]),(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[1]||(t[1]=e=>l.NewItem=e)},[us,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.Products,((e,t)=>((0,s.uX)(),(0,s.CE)("option",{key:t,value:e.id},(0,i.v_)(e.name),9,ds)))),128))],512),[[o.u1,l.NewItem]]),(0,s.bo)((0,s.Lk)("input",{required:"","onUpdate:modelValue":t[2]||(t[2]=e=>l.NewQuantity=e),type:"number",placeholder:"الكمية"},null,512),[[o.Jo,l.NewQuantity]]),cs],32),(0,s.Lk)("div",ps,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.Places,((e,t)=>((0,s.uX)(),(0,s.CE)("table",{key:t},[(0,s.Lk)("tr",null,[(0,s.Lk)("td",hs,(0,i.v_)(e.Room),1)]),ks,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.items,((a,o)=>((0,s.uX)(),(0,s.CE)("tr",{key:o},[(0,s.Lk)("td",null,(0,i.v_)(a.Order),1),(0,s.Lk)("td",null,(0,i.v_)(a.Quantity),1),(0,s.Lk)("td",null,(0,i.v_)(a.Price),1),(0,s.Lk)("td",null,(0,i.v_)((a.Price*a.Quantity).toFixed(2)),1),(0,s.Lk)("td",{onClick:a=>n.RemoveItem(t,e.id,o)},"حذف",8,ms)])))),128)),(0,s.Lk)("tr",null,[vs,(0,s.Lk)("td",Ls,(0,i.v_)(e.Total),1)])])))),128))]),(0,s.Lk)("div",Ss,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.PSs,((e,a)=>((0,s.uX)(),(0,s.CE)("form",{key:a},[(0,s.Lk)("h2",null,(0,i.v_)(l.PSs[a].name),1),1==l.PSs[a].state?((0,s.uX)(),(0,s.CE)("h5",ys,(0,i.v_)(l.PSs[a].start),1)):(0,s.Q3)("",!0),1==l.PSs[a].type?((0,s.uX)(),(0,s.CE)("h3",fs,"بلايستيشن 5")):((0,s.uX)(),(0,s.CE)("h3",Ps,"بلايستيشن 4")),1==l.PSs[a].state?((0,s.uX)(),(0,s.CE)("h3",bs,(0,i.v_)(l.PSW[a]),1)):(0,s.Q3)("",!0),1==l.PSs[a].state?((0,s.uX)(),(0,s.CE)("h3",Cs,(0,i.v_)(l.PST[a]),1)):(0,s.Q3)("",!0),0==l.PSs[a].state?(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{key:5,"onUpdate:modelValue":t[4]||(t[4]=e=>l.PSWT=e)},[gs,1==l.PSs[a].normal?((0,s.uX)(),(0,s.CE)("option",Es,"عادى")):(0,s.Q3)("",!0),1==l.PSs[a].multi?((0,s.uX)(),(0,s.CE)("option",_s,"مالتى")):(0,s.Q3)("",!0),1==l.PSs[a].plus?((0,s.uX)(),(0,s.CE)("option",Ms,"بلاس")):(0,s.Q3)("",!0),1==l.PSs[a].netflix?((0,s.uX)(),(0,s.CE)("option",ws,"نتفلكس")):(0,s.Q3)("",!0)],512)),[[o.u1,l.PSWT]]):(0,s.Q3)("",!0),0==l.PSs[a].state?(0,s.bo)(((0,s.uX)(),(0,s.CE)("input",{key:6,placeholder:"ضع الوقت بالساعات",type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>l.PSTT=e)},null,512)),[[o.Jo,l.PSTT]]):(0,s.Q3)("",!0),0==l.PSs[a].state?((0,s.uX)(),(0,s.CE)("button",{key:7,style:{"background-color":"green"},onClick:e=>n.PlayPS(a),type:"button"}," تشغيل ",8,Xs)):((0,s.uX)(),(0,s.CE)("button",{key:8,style:{"background-color":"red"},onClick:e=>n.StopPS(a),type:"button"}," إيقاف ",8,As))])))),128))]),(0,s.Lk)("form",{onSubmit:t[8]||(t[8]=(0,o.D$)(((...e)=>n.ChangePlaces&&n.ChangePlaces(...e)),["prevent"]))},[(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[6]||(t[6]=e=>l.OPlace=e)},Us,512),[[o.u1,l.OPlace]]),(0,s.bo)((0,s.Lk)("select",{required:"","onUpdate:modelValue":t[7]||(t[7]=e=>l.NPlace=e)},Is,512),[[o.u1,l.NPlace]]),Ns],32),(0,s.Lk)("div",Fs,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.Places,((e,t)=>((0,s.uX)(),(0,s.CE)("table",{key:t,ref_for:!0,ref:"printsection"+t},[(0,s.Lk)("tr",null,[(0,s.Lk)("td",Ds,(0,i.v_)(e.Room),1)]),(0,s.Lk)("tr",null,[(0,s.Lk)("td",{onClick:e=>n.Print(t),colspan:"4"},qs,8,Vs)]),(0,s.Lk)("tr",null,[(0,s.Lk)("td",Rs,(0,i.v_)(l.time),1)]),(0,s.Lk)("tr",null,[(0,s.Lk)("td",Os,(0,i.v_)(l.username),1)]),Ks,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.items,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[(0,s.Lk)("td",null,(0,i.v_)(e.Order),1),(0,s.Lk)("td",null,(0,i.v_)(e.Quantity),1),(0,s.Lk)("td",null,(0,i.v_)(e.Price),1),(0,s.Lk)("td",null,(0,i.v_)((e.Price*e.Quantity).toFixed(2)),1)])))),128)),(0,s.Lk)("tr",null,[Qs,(0,s.Lk)("td",Ws,(0,i.v_)(e.Total),1)]),Gs,Hs])))),128))])],512)):((0,s.uX)(),(0,s.CE)("div",Js,js))}var Ys={data(){return{RoomsShow:"",id:"",username:"",Places:[{id:"Room1",Room:"صالة 1",items:[],Total:0},{id:"Room2",Room:"صالة 2",items:[],Total:0},{id:"Room3",Room:"صالة 3",items:[],Total:0},{id:"Room4",Room:"صالة 4",items:[],Total:0},{id:"Room5",Room:"صالة 5",items:[],Total:0},{id:"Room6",Room:"صالة 6",items:[],Total:0},{id:"Room7",Room:"صالة 7",items:[],Total:0},{id:"Room8",Room:"صالة 8",items:[],Total:0},{id:"PS1",Room:"PS1",items:[],Total:0},{id:"PS2",Room:"PS2",items:[],Total:0},{id:"PS3",Room:"PS3",items:[],Total:0},{id:"PS4",Room:"PS4",items:[],Total:0},{id:"PS5",Room:"PS5",items:[],Total:0},{id:"PS6",Room:"PS6",items:[],Total:0},{id:"PS7",Room:"PS7",items:[],Total:0},{id:"PS8",Room:"PS8",items:[],Total:0},{id:"Delivery",Room:"Delivery",items:[],Total:0},{id:"TakeAway",Room:"TakeAway",items:[],Total:0}],NewItem:"",NewQuantity:"",NewPlace:"",Products:[],OPlace:"",NPlace:"",PSs:[],PSW:["","","","","","","",""],PST:[0,0,0,0,0,0,0,0],PSWT:"",PSTT:"",time:""}},created(){this.id=this.getCookie("user_id"),this.username=this.getCookie("user_name"),this.RoomsShow=this.getCookie("user_rooms"),this.getCookie("user_id")||this.$router.push("/"),this.GetProducts(),this.getTime()},mounted(){this.startInterval()},methods:{getCookie(e){return d.A.get(e)},async GetProducts(){try{const e=await P.A.get("http://localhost/cafe-ps8/api/orders.php");this.Products=e.data.Products,this.Places=JSON.parse(e.data.Places[0].orders),this.PSW=JSON.parse(e.data.Places[1].orders),this.PST=JSON.parse(e.data.Places[2].orders),this.PSs=e.data.PSs,this.$forceUpdate()}catch(e){console.error("fail:",e)}},async AddItem(){const e=Number(this.Products.filter((e=>e.id==this.NewItem))[0].price).toFixed(2),t=this.Products.filter((e=>e.id==this.NewItem))[0].name;this.Places[this.NewPlace].items.push({Order:t,Quantity:Math.abs(this.NewQuantity.toFixed(2)),Price:e});let a=0;this.Places[this.NewPlace].items.forEach((e=>{a+=e.Quantity*e.Price})),this.Places[this.NewPlace].Total=a.toFixed(2),this.NewItem="",this.NewQuantity="",this.NewPlace=""},RemoveItem(e,t,a){const o=this.Places[e].items[a].Order;"normal"!=o&&"multi"!=o&&"plus"!=o&&"netflix"!=o?(this.Places.forEach((e=>{if(e.id===t){e.items.splice(a,1);let t=0;e.items.forEach((e=>{t+=e.Quantity*e.Price})),e.Total=t.toFixed(2)}})),this.UpdateItems()):alert("لن يتم الحذف")},async UpdateItems(){try{const e=await P.A.put("http://localhost/cafe-ps8/api/orders.php",{JSON:this.Places,JSONW:this.PSW,JSONT:this.PST});this.$forceUpdate(),console.log(e.data.msg)}catch(e){console.error("fail:",e)}},async PlayPS(e){if(""==this.PSWT)alert("أكمل الحقول الفارغة");else{this.getTime();try{const t=await P.A.put("http://localhost/cafe-ps8/api/orders.php",{IdPS:e+1,Time:this.time});console.log(t.data.msg)}catch(t){console.error("fail:",t)}0==this.PSTT||""==this.PSTT?this.PST[e]=0:this.PST[e]=this.PSTT,this.PSW[e]=this.PSWT,this.PSWT="",this.PSTT="",this.UpdateItems(),this.GetProducts()}},async StopPS(e){this.getTime();try{const t=await P.A.put("http://localhost/cafe-ps8/api/orders.php",{IdPS:e+1,stop:0});console.log(t.data.msg)}catch(o){console.error("fail:",o)}let t;if("normal"==this.PSW[e]?t=this.PSs[e].normal_price:"multi"==this.PSW[e]?t=this.PSs[e].multi_price:"plus"==this.PSW[e]?t=this.PSs[e].plus_price:"netflix"==this.PSW[e]&&(t=this.PSs[e].netflix_price),0==this.PST[e]){const t=new Date(this.PSs[e].start.replace(" ","T")),a=new Date(this.time.replace(" ","T")),o=(Math.floor((a-t)/6e4)%60/60).toFixed(2);this.PST[e]=o}this.Places[e+8].items.unshift({Order:this.PSW[e],Quantity:this.PST[e],Price:t});let a=0;this.Places[e+8].items.forEach((e=>{a+=e.Quantity*e.Price})),this.Places[e+8].Total=a.toFixed(2),this.PSW[e]="",this.PST[e]=0,await this.UpdateItems(),this.GetProducts()},startInterval(){setInterval((()=>{this.getTime();for(let e=0;e<8;e++)if(0!=this.PST[e]&&1==this.PSs[e].state){const t=new Date(this.PSs[e].start.replace(" ","T")),a=new Date(this.time.replace(" ","T")),o=(Math.floor((a-t)/6e4)%60/60).toFixed(2);console.log(o),this.PST[e]-o<=0&&this.StopPS(e)}}),6e4)},async ChangePlaces(){const e=this.Places[this.OPlace].items;this.Places[this.OPlace].items=this.Places[this.NPlace].items,this.Places[this.NPlace].items=e;const t=this.Places[this.OPlace].Total;this.Places[this.OPlace].Total=this.Places[this.NPlace].Total,this.Places[this.NPlace].Total=t,await this.UpdateItems(),await this.GetProducts(),this.NPlace="",this.OPlace="",this.$router.go()},async Print(e){if(0!=this.Places[e].Total){const t=this.$refs["printsection"+e][0].outerHTML,a=this.$refs.room.innerHTML;this.$refs.room.innerHTML=t,await this.$nextTick(),window.print(),await this.checkdb(e),this.$refs.room.innerHTML=a,await window.location.reload()}else alert("الاودر فارغ")},async checkdb(e){try{const t=await P.A.post("http://localhost/cafe-ps8/api/orders.php",{Id:this.id,Time:this.time,Orders:this.Places[e].items,Place:e});console.log(t.data),"تم الإضافة"==t.data.message&&(this.Places[e].items=[],this.Places[e].Total=0)}catch(t){console.error("Error deleting user:",t.message)}await this.UpdateItems(),this.GetProducts()},getTime(){const e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),s=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0"),r=String(e.getSeconds()).padStart(2,"0");this.time=`${t}-${a}-${o} ${s}:${i}:${r}`}}};const Zs=(0,p.A)(Ys,[["render",zs],["__scopeId","data-v-52fcee0b"]]);var ei=Zs;const ti={key:0,id:"HarmonyBody"},ai={dir:"rtl",id:"HarmonyTable"},oi=(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"م"),(0,s.Lk)("th",null,"التفاصيل"),(0,s.Lk)("th",null,"حذف")],-1),si=["onClick"],ii=(0,s.Lk)("button",{type:"submit"},"إضافة",-1),ri={key:1,class:"no"},li=(0,s.Lk)("div",null,"عفواً ,غير مسموح لك بالتعديل فى التوالف",-1),ni=[li];function ui(e,t,a,r,l,n){return 1==l.Sharmony?((0,s.uX)(),(0,s.CE)("div",ti,[(0,s.Lk)("div",null,[(0,s.Lk)("table",ai,[oi,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.harmonies,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[(0,s.Lk)("td",null,(0,i.v_)(t+1),1),(0,s.Lk)("td",null,(0,i.v_)(e.details),1),(0,s.Lk)("td",{onClick:t=>n.DeleteHarmony(e)},"حذف",8,si)])))),128))])]),(0,s.Lk)("form",{onSubmit:t[1]||(t[1]=(0,o.D$)(((...e)=>n.AddHarmony&&n.AddHarmony(...e)),["prevent"]))},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.details=e),type:"text",placeholder:"تفاصيل",required:""},null,512),[[o.Jo,l.details]]),ii],32)])):((0,s.uX)(),(0,s.CE)("div",ri,ni))}var di={data(){return{id:"",user:"",details:"",Sharmony:"",harmonies:[],addedit:"إضافة"}},created(){this.id=this.getCookie("user_id"),this.user=this.getCookie("user_name"),this.Sharmony=this.getCookie("user_harmony"),this.getCookie("user_id")||this.$router.push("/"),this.getharmony()},methods:{getCookie(e){return d.A.get(e)},async getharmony(){try{const e=await P.A.get("http://localhost/cafe-ps8/api/harmony.php");this.harmonies=e.data.harmonies,this.harmonies=this.harmonies.filter((e=>e.id_user==this.id))}catch(e){console.error("Login failed:",e)}},async DeleteHarmony(e){try{const t=await P.A.delete("http://localhost/cafe-ps8/api/harmony.php",{data:{id:e.id}});alert(t.data.message),this.getharmony()}catch(t){console.error("Error deleting user:",t.message)}},async AddHarmony(){try{const e=await P.A.post("http://localhost/cafe-ps8/api/harmony.php",{id_user:this.id,details:this.details});alert(e.data.message),this.getharmony()}catch(e){console.error("Error deleting user:",e.message)}this.details=""}}};const ci=(0,p.A)(di,[["render",ui]]);var pi=ci;const hi={key:0,id:"ExpensesBody"},ki={dir:"rtl",id:"ExpensesTable"},mi=(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"م"),(0,s.Lk)("th",null,"المواد الخام"),(0,s.Lk)("th",null,"السعر"),(0,s.Lk)("th",null,"حذف")],-1),vi=["onClick"],Li=(0,s.Lk)("button",{type:"submit"},"إضافة",-1),Si={key:1,class:"no"},yi=(0,s.Lk)("div",null,"عفواً ,غير مسموح لك بالتعديل فى المصاريف",-1),fi=[yi];function Pi(e,t,a,r,l,n){return 1==l.Sexpenses?((0,s.uX)(),(0,s.CE)("div",hi,[(0,s.Lk)("div",null,[(0,s.Lk)("table",ki,[mi,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.expenses,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[(0,s.Lk)("td",null,(0,i.v_)(t+1),1),(0,s.Lk)("td",null,(0,i.v_)(e.material),1),(0,s.Lk)("td",null,(0,i.v_)(e.price),1),(0,s.Lk)("td",{onClick:t=>n.DeleteExpenses(e)},"حذف",8,vi)])))),128))])]),(0,s.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>n.AddExpenses&&n.AddExpenses(...e)),["prevent"]))},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.material=e),type:"text",placeholder:"المادة",required:""},null,512),[[o.Jo,l.material]]),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.price=e),type:"text",placeholder:"السعر",required:""},null,512),[[o.Jo,l.price]]),Li],32)])):((0,s.uX)(),(0,s.CE)("div",Si,fi))}var bi={data(){return{id:"",user:"",material:"",price:"",Sexpenses:"",expenses:[]}},created(){this.id=this.getCookie("user_id"),this.user=this.getCookie("user_name"),this.Sexpenses=this.getCookie("user_harmony"),this.getCookie("user_id")||this.$router.push("/"),this.getExpenses()},methods:{getCookie(e){return d.A.get(e)},async getExpenses(){try{const e=await P.A.get("http://localhost/cafe-ps8/api/expenses.php");this.expenses=e.data.expenses,this.expenses=this.expenses.filter((e=>e.id_user==this.id))}catch(e){console.error("Login failed:",e)}},async DeleteExpenses(e){try{const t=await P.A.delete("http://localhost/cafe-ps8/api/expenses.php",{data:{id:e.id}});alert(t.data.message),this.getExpenses()}catch(t){console.error("Error deleting user:",t.message)}},async AddExpenses(){try{const e=await P.A.post("http://localhost/cafe-ps8/api/expenses.php",{id_user:this.id,material:this.material,price:Math.abs(this.price)});alert(e.data.message),this.getExpenses()}catch(e){console.error("Error deleting user:",e.message)}this.material="",this.price=""}}};const Ci=(0,p.A)(bi,[["render",Pi]]);var gi=Ci;const Ei={key:0,id:"StoreBody"},_i=(0,s.Lk)("option",{disabled:"",value:""},"مطعم \\ كافيه",-1),Mi=(0,s.Lk)("option",{value:"1"},"مطعم",-1),wi=(0,s.Lk)("option",{value:"0"},"كافيه",-1),Xi=[_i,Mi,wi],Ai=(0,s.Lk)("option",{disabled:"",value:""},"اختر القسم",-1),Ti=["value"],Ui={key:0},xi=(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"م"),(0,s.Lk)("th",null,"اسم"),(0,s.Lk)("th",null,"عدد"),(0,s.Lk)("th",null,"زيادة"),(0,s.Lk)("th",null,"نقص")],-1),Ii=["onClick"],Ni=["onClick"],Fi={key:1,class:"no"},Di=(0,s.Lk)("div",null,"عفواً ,غير مسموح لك بالتعديل فى المخزن",-1),Vi=[Di];function $i(e,t,a,r,l,n){return 1==l.ShowStore?((0,s.uX)(),(0,s.CE)("div",Ei,[(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.SelectKindModel=e)},Xi,512),[[o.u1,l.SelectKindModel]]),1==l.SectorShow?(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{key:0,"onUpdate:modelValue":t[1]||(t[1]=e=>l.SelectSector=e)},[Ai,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.Sectors,((e,t)=>((0,s.uX)(),(0,s.CE)("option",{key:t,value:e.id},(0,i.v_)(e.name),9,Ti)))),128))],512)),[[o.u1,l.SelectSector]]):(0,s.Q3)("",!0),(0,s.Lk)("div",null,[1==l.MaterialShow?((0,s.uX)(),(0,s.CE)("table",Ui,[xi,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.Materials,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[(0,s.Lk)("td",null,(0,i.v_)(t+1),1),(0,s.Lk)("td",null,(0,i.v_)(e.name),1),(0,s.Lk)("td",null,(0,i.v_)(e.num_store),1),(0,s.Lk)("td",{class:"point",onClick:t=>n.MaterialIncrement(e)},"+",8,Ii),(0,s.Lk)("td",{class:"point",onClick:t=>n.MaterialDecreasement(e)},"-",8,Ni)])))),128))])):(0,s.Q3)("",!0)])])):((0,s.uX)(),(0,s.CE)("div",Fi,Vi))}var qi={data(){return{id:"",ShowStore:"",SelectKindModel:"",Sectors:[],SelectSector:"",SectorShow:"",Materials:[],MaterialShow:""}},watch:{SelectKindModel:function(){this.SelectSector="",this.getSectors()},SelectSector:function(){this.getMaterials()}},created(){this.id=this.getCookie("user_id"),this.ShowStore=this.getCookie("user_store"),this.getCookie("user_id")||this.$router.push("/")},methods:{getCookie(e){return d.A.get(e)},async getSectors(){try{const e=await P.A.post("http://localhost/cafe-ps8/api/store.php",{GetType:"Sectors",GetSectors:this.SelectKindModel});this.Sectors=e.data.Sectors}catch(e){console.error("error:",e)}""==this.SelectKindModel?this.SectorShow=0:this.SectorShow=1},async getMaterials(){try{const e=await P.A.post("http://localhost/cafe-ps8/api/store.php",{GetType:"Materials",GetSector:this.SelectSector});this.Materials=e.data.Materials}catch(e){console.error("error:",e)}""==this.SelectSector?this.MaterialShow=0:this.MaterialShow=1},async MaterialIncrement(e){try{const t=await P.A.put("http://localhost/cafe-ps8/api/store.php",{id_user:this.id,Type:1,id:e.id,num:e.num_store});console.log(t.data.message)}catch(t){console.error("error:",t)}this.getMaterials()},async MaterialDecreasement(e){try{const t=await P.A.put("http://localhost/cafe-ps8/api/store.php",{id_user:this.id,Type:0,id:e.id,num:e.num_store});console.log(t.data.message)}catch(t){console.error("error:",t)}this.getMaterials()}}};const Ri=(0,p.A)(qi,[["render",$i]]);var Oi=Ri;const Ki=[{path:"/",component:g},{path:"/home",component:U},{path:"/affairs",component:xt},{path:"/ps",component:fe},{path:"/purchases",component:zt},{path:"/sales",component:ro},{path:"/products",component:ss},{path:"/rooms",component:ei},{path:"/harmony",component:pi},{path:"/expenses",component:gi},{path:"/store",component:Oi}],Qi=(0,m.aE)({history:(0,m.LA)(),routes:Ki});var Wi=Qi;(0,o.Ef)(k).use(Wi).mount("#app")}},t={};function a(o){var s=t[o];if(void 0!==s)return s.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,o,s,i){if(!o){var r=1/0;for(d=0;d<e.length;d++){o=e[d][0],s=e[d][1],i=e[d][2];for(var l=!0,n=0;n<o.length;n++)(!1&i||r>=i)&&Object.keys(a.O).every((function(e){return a.O[e](o[n])}))?o.splice(n--,1):(l=!1,i<r&&(r=i));if(l){e.splice(d--,1);var u=s();void 0!==u&&(t=u)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,s,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,i,r=o[0],l=o[1],n=o[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(n)var d=n(a)}for(t&&t(o);u<r.length;u++)i=r[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},o=self["webpackChunkBlackLight"]=self["webpackChunkBlackLight"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(8767)}));o=a.O(o)})();
//# sourceMappingURL=app.48b3076d.js.map